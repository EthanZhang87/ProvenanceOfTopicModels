title: AirPlay
id: 28674564
AirPlay is a proprietary wireless communication protocol stack suite developed by Apple Inc that allows streaming between devices of audio video device screens and photos together with related metadata Originally implemented only in Apple s software and devices it was called AirTunes and used for audio only Apple has since licensed the AirPlay protocol stack as a third party software component technology to manufacturers that build products compatible with Apple s devices br br br History br In Apple introduced AirTunes as a new feature of iTunes It allowed music streaming over a network to an AirPort Express which was equipped with a mm analog digital audio jack for speakers or other audio devices In Apple introduced a new iteration of the AirTunes technology now called AirPlay as part of iOS It supported audio and now video streaming to the Apple TV and later added screen mirroring and eventually support for a broad range of rd party AirPlay compatible speakers and AV equipment br Apple announced AirPlay at its annual WWDC conference on June It was scheduled for release along with iOS in the third quarter of but was delayed until June Compared to the original version AirPlay improves buffering adds streaming audio to stereo pairs of speakers e g stereo pairs of individual HomePods AirPlay and its predecessor AirTunes have always been stereo allows audio to be sent to multiple devices in different rooms and control by Control Center the Home app or Siri functionality that was only available previously using iTunes under macOS or Windows br br br Senders br AirPlay sender devices include computers running iTunes and iOS devices such as iPhones iPods and iPads running iOS or greater and devices can send AirPlay over Wi Fi or ethernet OS X Mountain Lion supports display mirroring via AirPlay on systems containing nd generation Intel Core processors or later br In HTC released the also known as One M an Android phone with Apple AirPlay streaming br As of iOS third party apps like ApowerMirror AirServer and Reflector may send compatible audio and video streams over AirPlay The iTunes Remote app on iOS can be used to control media playback and select AirPlay streaming receivers for iTunes running on a Mac or PC br As of macOS there is no public API for third party developers to integrate AirPlay into their macOS apps However there are third party streamers such as Airfoil In May a third party developer released a macOS app that can stream audio using AirPlay The app includes a helper tool called AirPlay Enabler that uses code injection to bypass restrictions to the AirPlay private API on macOS br br br Receivers br AirPlay receiver devices include Apple TV HomePod third party speakers and the discontinued AirPort Express which included a combined analog and optical S PDIF audio output connector Compatible devices can receive AirPlay over wi fi or ethernet Some open source projects have reverse engineered the audio part of the protocol enabling any computer to be turned into an AirPlay receiver for audio br However because not all third party receivers implement Apple s DRM encryption some media such as iTunes Store s own rights protected music Apple s own FairPlay encryption YouTube and Netflix cannot stream to those devices or software On Apple TV starting with firmware the DRM scheme is enforced devices without it cannot be used br AirPlay wireless technology is integrated into speaker docks AV receivers and stereo systems from companies such as Naim Bose Yamaha Philips Marantz Onkyo Bowers Wilkins Pioneer Sony Sonos McIntosh Denon and Bang Olufsen Song titles artists album names elapsed and remaining time and album artwork can appear on AirPlay enabled speakers with graphical displays Often these receivers are built to only support the audio component of AirPlay much like AirTunes br Bluetooth devices headsets speakers that support the A DP profile also appear as AirPlay receivers when paired with an iOS device although Bluetooth is a device to device protocol that does not rely on a wireless network access point br During the January Consumer Electronics Show CES in Las Vegas television makers Samsung LG Vizio and Sony announced they would be producing sets with built in AirPlay receiving capability LG announced that television models that are AirPlay enabled will include the OLED NanoCell SM X UHD UM X and LG NanoCell SM X models br In September Roku added AirPlay support as part of the update on select K Roku devices In April the update added support for more Roku TVs and Players br During WWDC Apple announced that macOS Monterey would include AirPlay receiver compatibility for compatible Macs br br br Protocols br AirPlay and AirTunes work over a local network through either Wi Fi or Ethernet Originally devices had to be connected to the same network but since late devices can opt to use Wi Fi Direct allowing devices to connect without a LAN br The AirTunes part of the AirPlay protocol stack uses UDP for streaming audio and is based on the Real Time Streaming Protocol The streams are transcoded using the Apple Lossless codec with Hz and channels symmetrically encrypted with AES requiring the receiver to have access to the appropriate key to decrypt the streams The stream is buffered for approximately seconds before playback begins resulting in a small delay before audio is output after starting an AirPlay stream br The protocol supports metadata packets that determine the final output volume on the receiving end This makes it possible to always send audio data unprocessed at its original full volume preventing sound quality deterioration due to reduction in bit depth and thus sound quality which would otherwise occur if changes in volume were made to the source stream before transmitting It also makes possible the streaming of one source to multiple targets each with its own volume control and for volume adjustments to be applied instantly instead of being delayed by the second buffer period br The AirPort Express streaming media capabilities use Apple s Remote Audio Output Protocol RAOP a proprietary variant of RTSP RTP Using WDS bridging the AirPort Express can allow AirPlay functionality as well as Internet access file and print sharing etc across a larger distance in a mixed environment of wired and up to wireless clients br br br AirPlay Mirroring br At WWDC Steve Jobs then CEO of Apple Inc announced AirPlay Mirroring as a feature in iOS where the user can stream the screen from an iPad to an HDTV wirelessly and securely without the need for cables br AirPlay is a different technology from AirPlay Mirroring as the former allows specific content formats to be streamed while the latter allows the whole screen to be broadcast from a variety of iOS devices and iTunes to an Apple TV nd Gen or later The exact composition of the protocols that AirPlay Mirroring uses have not yet fully been discovered or reverse engineered However an unofficial AirPlay protocol specification is available Supported hardware when using OS X Mountain Lion or later includes any or later iMac Mac mini MacBook Air MacBook Pro or the Mac Pro late or newer br br br Reverse engineering br When the protocol was known as AirTunes it was reverse engineered by Jon Lech Johansen in br On April James Laird reverse engineered and released the private key used by the Apple AirPort Express to decrypt incoming audio streams The release of this key means that third party software and devices modified to use the key will be able to decrypt and play back or store AirPlay streams Laird released ShairPort as an example of an audio only software receiver implementation of AirPlay Soon more followed and in the first AirPlay audio and video receiver for PC came with a product called AirServer br An open source AirPlay mirroring server receiver known as RPiPlay is available for the Raspberry Pi and Desktop Linux operating systems The author describes it as being based on dsafa s Android mirroring server which was in turn based on Juho V h Herttua s ShairPlay br With Shairport Sync there is an implementation that supports AirPlay and parts of AirPlay that runs on Linux and FreeBSD and works well on embedded devices such as Raspberry Pis or OpenWrt powered routers br br br See also br Google Cast br Chromecast br Miracast br Digital Living Network Alliance br br br Notes br br br External links br Official website