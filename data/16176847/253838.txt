title: Apple ProDOS
id: 253838
ProDOS is the name of two similar operating systems for the Apple II series of personal computers The original ProDOS renamed ProDOS in version is the last official operating system usable by all bit Apple II series computers and was distributed from to The other ProDOS was a stop gap solution for the bit Apple IIGS that was replaced by GS OS within two years br ProDOS was marketed by Apple as meaning Professional Disk Operating System and became the most popular operating system for the Apple II series of computers months after its release in January br br br Background br ProDOS was released to address shortcomings in the earlier Apple operating system called simply DOS which was beginning to show its age br Apple DOS only has built in support for floppy disks and requires patches to use peripheral devices such as hard disk drives and non Disk II floppy disk drives including floppy drives ProDOS adds a standard method of accessing ROM based drivers on expansion cards for disk devices expands the maximum volume size from about kilobytes to megabytes introduces support for hierarchical subdirectories a vital feature for organizing a hard disk s storage space and supports RAM disks on machines with KB or more of memory ProDOS addresses problems with handling hardware interrupts and includes a well defined and documented programming and expansion interface which Apple DOS had always lacked Although ProDOS also includes support for a real time clock RTC this support went largely unused until the release of the Apple IIGS the first in the Apple II series to include an RTC on board Third party clocks were available for the II Plus IIe and IIc however br ProDOS unlike earlier Apple DOS versions has its developmental roots in SOS the operating system for the ill fated Apple III computer released in Pre release documentation for ProDOS including early editions of Beneath Apple ProDOS documented SOS error codes notably one for switched disks that ProDOS itself could never generate Its disk format and programming interface are completely different from those of Apple DOS and ProDOS cannot read or write DOS disks except by means of a conversion utility while the low level track and sector format of DOS disks was retained for inch disks the high level arrangement of files and directories is completely different For this reason most machine language programs that run under Apple DOS will not work under ProDOS However most BASIC programs work though they sometimes require minor changes A third party program called DOS MASTER enables users to have multiple virtual DOS partitions on a larger ProDOS volume br With the release of ProDOS came the end of support for Integer BASIC and the original Apple II model which had long since been effectively supplanted by Applesoft BASIC and the Apple II Plus Whereas DOS always loads built in support for BASIC programming under ProDOS this job is given to a separate system program called BASIC SYSTEM which one launches to run and write Applesoft BASIC programs BASIC itself continued to be built into the Apple ROMs BASIC SYSTEM is merely a command interpreter enhancement that allows BASIC programs to access ProDOS by means of the same Control D text output they had used under DOS BASIC SYSTEM alone requires about as much memory as the whole of DOS Since the ProDOS kernel itself is stowed away in the Language Card RAM the usable amount of RAM for BASIC programmers remains the same under ProDOS as it had been under DOS br Despite ProDOS s many advantages many users and programmers resisted it for a time because of their investment in learning the ins and outs of Apple DOS and in Apple DOS based software and data formats A contributing reason was that ProDOS allows only characters in a filename compared to Apple DOS s But Apple s integrated software package AppleWorks released in proved a compelling reason to switch and by the end of few new software products were being released for the older operating system Apple IIs continued to be able to boot the older DOS even the Apple IIGS can boot the older DOS floppies but as floppies and hard disks became more prevalent most users spent the bulk of their time in ProDOS br The Apple IIe also released in was the first Apple II computer to have KB of memory built in For a while Apple shipped both DOS and ProDOS with new computers br The original ProDOS was renamed ProDOS when ProDOS was released to support the bit Apple IIGS computer although ProDOS which was bit at its core was soon replaced by GS OS br br br Requirements br All editions of ProDOS require an Apple II series computer or compatible br ProDOS requires KB of memory to run The original ProDOS through requires only KB for the kernel but nearly all programs including the BASIC SYSTEM needed to use Applesoft BASIC require KB making a KB system useless for ProDOS as a practical matter and support for KB machines was removed in version br ProDOS version x requires a C or later CPU ProDOS x runs in KB but the utility programs on the system disk require KB Systems with a CPU instead of a C must use ProDOS versions prior to version br ProDOS requires an Apple IIGS br br br Unlicensed Apple II clones br With the release of ProDOS version and higher a check was added to see if it was running on an official Apple manufactured computer If the word Apple is found in the computer s ROM firmware ProDOS will load up as normal If anything else is found e g Golden Franklin Elite ProDOS refuses to run locking up at the boot splash screen This measure was taken by Apple Computer to discourage use of unlicensed Apple II clones It is still possible to run newer versions of ProDOS on clones however users have to apply a small byte patch to every successive version of ProDOS Some users go as far as replacing their physical ROM chip s with an illegal copied version of Apple s own ROM or failing that a custom patched ROM with Apple added in the name br br br Disk support br ProDOS natively supports Disk II compatible floppy drives a RAM drive of approximately KB on computers having KB or more RAM and block devices whose controllers support the Pascal firmware protocol a standardized method of accepting block reads and writes originally introduced for use with the UCSD p System This latter category includes floppy drives and hard drives Custom block device drivers can be hooked into the OS as well br br br File system br ProDOS uses the same file system as the earlier Apple SOS for the Apple III The SOS ProDOS file system is native to Apple SOS ProDOS ProDOS and GS OS Some classic Mac OS versions also come with a file system translator to handle this file system br A volume is allocated in byte blocks floppy disks are still formatted using byte sectors as this is the format required by the controller ROM to boot the disk ProDOS simply treats pairs of byte sectors as a single block on such drives A volume can have a capacity of up to megabytes and each file can be up to megabytes Each volume floppy disk or hard drive partition has a volume name a filename which is used as the base directory name having two volumes with the same volume name can result in conflicts If necessary ProDOS searches all available drives to find a named volume Subdirectories are supported and the concept of a prefix working directory or current path was provided to make working with subdirectories easier br File directory and volume names can be to characters starting with a letter then containing more letters digits or periods Each file entry also contains the bit byte pointer to the block containing the beginning of the file or its block index a bit block count a bit byte file size an bit byte filetype a bit auxiliary type the meaning of which depends upon the filetype creation and modification timestamps and data related to how the file is stored on the volume Sparse files are supported but files are never sparsified by removing zero filled blocks The volume header contains similar information as relevant to volumes br Directories including the root directory are sequentially indexed with each block starting with the address of the previous block or zero if none and the subsequent block or zero if none The root directory on most disks is initialized to blocks allowing entries excluding the volume header It never changes in size except by manual intervention with special tools Subdirectories begin at one block and grow automatically as needed br Normal files are progressively indexed Single block files under bytes have no index block the directory entry points directly to the block of file data Files with between and blocks bytes to KB of data have a single index block to which the directory entry points which contains a list of up to data block addresses Larger files have a master index block containing a list of up to index block addresses When the Apple IIGS was introduced a new storage format was introduced for files with two forks as was typical for IIGS system and program files the directory entry points to an informational block that tells the computer the storage format of the two forks These files cannot be read or written natively by ProDOS though the volume itself remains compatible br The volume has a bitmap of used blocks Other than this there is no central file allocation table br A ProDOS volume formatted by Apple s tools has a boot sector that supports booting both ProDOS and SOS depending on what computer it is booted on Block is the Apple II boot block and block boots SOS This allows a disk to be used to boot on either Apple II or Apple III computers by putting both operating system kernels in the top directory the Apple II boot sector looks for the file PRODOS and the Apple III boot sector looks for the file SOS KERNEL Third party formatting utilities often did not provide the SOS boot block and some would even mark block available for user data br ProDOS has no kernel support for other file systems If necessary a conversion utility on the main system disk is used to transfer files individually between ProDOS and older Apple DOS disks Because they use a different low level disk format than DOS and ProDOS transferring data from DOS disks to ProDOS is a two step process using a DOS disk as an intermediary utilizing the DOS utility MUFFIN or similar br br br See also br Apple DOS br Apple GS OS br GEOS bit operating system br br br br br Notes br Don Worth and Pieter Lechner Beneath Apple ProDOS Quality Software Chatsworth California ISBN br br br External links br Apple II History DOS ProDOS Beyond br Apple II Information Reference Apple info ProDOS Technical Reference Manual wiki formatted with FAQs compatibility guides etc br ProDOS Technical Reference Manual HTML formatted br Apple II System Disk Apple II System Disk with ProDOS and the system utilities as an K DiskCopy format image br Apple Operating Systems Archived at the Wayback Machine DOS ProDOS GS OS Basic System