title: Virtual private network
id: 147130
Virtual private network VPN is a network architecture for virtually extending a private network i e any computer network which is not the public Internet across one or multiple other networks which are either untrusted as they are not controlled by the entity aiming to implement the VPN or need to be isolated thus making the lower network invisible or not directly usable br A VPN can extend access to a private network one that disallows or restricts public access to some of its resources to users who do not have direct access to it such as an office network allowing secure access from off site over the Internet This is achieved by creating a link between computing devices and computer networks by the use of network tunneling protocols br It is possible to make a VPN secure to use on top of insecure communication medium such as the public internet by choosing a tunnelling protocol which implements the necessary security features to guarantee confidentiality and integrity This kind of VPN implementations have the benefit of reduced costs and greater flexibility with respect to dedicated communication lines for remote workers br The term VPN is also used to refer commercial network proxy services which sell access to their own proxy networks by connecting their customers by mean of VPN protocols br br br When VPN architectures are used br The goal of virtual private networks is to allow network hosts PCs servers etc exchanging network messages with private content across another network as if they are part of the same network in ways that make crossing the medium network completely transparent from a certain communication layer upwards br Users who are customers of a network connectivity service provider consider such a network to be untrusted since it is controlled by a third party and generally want to build VPNs adopting protocols that provide protection of their communication content privacy br In the opposing context of Provider provisioned VPN the untrusted network condition is replaced by the connectivity providers intention of isolating parts of their own network infrastructure in virtual segments in ways that make contents of each segment private with respect to the others This situation makes many other tunneling protocols suitable for building PPVPNs even with weak or no security features like in VLAN br br br VPN general working br The ways a VPN actually works depends on which technologies and protocols the VPN is built upon A tunneling protocol is used to transfer the network messages from one side to the other Their goal is to take network messages from applications operating at OSI layer on one side of the tunnel and replay them on the other side as if they virtually substitute the lower network or link layers Applications do not need to be modified to let their messages pass through the VPN because the virtual network or link is made available to the OS br Applications that do implement tunneling or proxying features for themselves without making such features available as a network interface are not to be considered VPN implementations but may partially match same or similar end user goal of exchanging private contents towards a remote network like intranet browsing via an authenticated proxy br br br VPN topology configurations br br Virtual private networks configurations can be classified depending on the purpose of the virtual extension which makes different tunneling strategies appropriate for different topologies br br Remote access br A host to network configuration is analogous to joining one or more computers to a network which cannot be directly connected This type of extension provides that computer access to local area network of a remote site or any wider enterprise networks such as an intranet Each computer is in charge of activating its own tunnel towards the network it wants to join The joined network is only aware of a single remote host for each tunnel This may be employed for remote workers or to enable people accessing their private home or company resources without exposing them to the public Internet Remote access tunnels can be either on demand or always on Proper implementations of this configuration require the remote host to initiate the communication towards the central network it is accessing because the remote host location is usually unknown to the central network until the former tries to reach it br Site to site br A site to site configuration connects two networks This configuration expands a network across geographically disparate locations Tunneling is only done between two devices like routers firewalls VPN gateways servers etc located at both network locations These devices then make the tunnel available to other local network hosts that aim to reach any host on the other side This is useful to keep sites connected to each other in a stable manner like office networks to their headquarter or datacenter In this case any side may be configured to initiate the communication as long as it knows how to reach the other on the medium network if both are known to each other and the chosen VPN protocol is not bound to client server design the communication can be initiated by either of the two as soon as they see the VPN is inactive or some local host is trying to reach another one known to be located on the other side br In the context of site to site configurations the terms intranet and extranet are used to describe two different use cases An intranet site to site VPN describes a configuration where the sites connected by the VPN belong to the same organization whereas an extranet site to site VPN joins sites belonging to multiple organizations br Typically individuals interact with remote access VPNs whereas businesses tend to make use of site to site connections for business to business cloud computing and branch office scenarios However these technologies are not mutually exclusive and in a significantly complex business network may be combined to enable remote access to resources located at any given site such as an ordering system that resides in a data center br Apart from the general topology configuration a VPN may also be characterized by br br the tunneling protocol used to tunnel the traffic br the tunnel s termination point location e g on the customer edge or network provider edge br the security features provided br the OSI layer they present to the connecting network such as Layer link circuit or Layer network connectivity br the number of simultaneous allowed tunnels br the relationship between the actor implementing the VPN and the network infrastructure owner provider and whether the former trusts the medium of the former or not br A variety of VPN technics exist to adapt to the above characteristics each providing different network tunneling capabilities and different security model coverage or interpretation br br br VPN native and third party support br Operating systems vendors and developers do typically offer native support to a selection of VPN protocols which is subject to change over the years as some have been proven to be unsecure with respect to modern requirements and expectations and some others emerged br br br VPN support in consumer operating systems br Desktop smartphone and other end user device operating systems do usually support configuring remote access VPN from their graphical or command line tools However due to the variety of often non standard VPN protocols there exists many third party applications that implement additional protocols not yet or no more natively supported by the OS br For instance Android lacked native IPsec IKEv support until version and people needed to install third party apps in order to connect that kind of VPNs while Microsoft Windows BlackBerry OS and others got it supported in the past br Conversely Windows does not support plain IPsec IKEv remote access native VPN configuration commonly used by Cisco and Fritz Box VPN solutions which makes the use of third party applications mandatory for people and companies relying on such VPN protocol br br br VPN support in network devices br Network appliances such as firewalls do often include VPN gateway functionality for either remote access or site to site configurations Their administration interfaces do often facilitate setting up virtual private networks with a selection of supported protocols which have been integrated for an easy out of box setup br In some cases like in the open source operating systems devoted to firewalls and network devices like OpenWrt IPFire PfSense or OPNsense it is possible to add support for additional VPN protocols by installing missing software components or third party apps br Similarly it is possible to get additional VPN configurations working even if the OS does not facilitate the setup of that particular configuration by manually editing internal configurations of by modifying the open source code of the OS itself For instance pfSense does not support remote access VPN configurations through its user interface where the OS runs on the remote host while provides comprehensive support for configuring it as the central VPN gateway of such remote access configuration scenario br Otherwise commercial appliances with VPN features based on proprietary hardware software platforms usually support a consistent VPN protocol across their products but do not open up for customizations outside the use cases they intended to implement This is often the case for appliances that rely on hardware acceleration of VPNs to provide higher throughput or support a larger amount of simultaneously connected users br br br Security mechanisms br Whenever a VPN is intended to virtually extend a private network over a third party untrusted medium it is desirable that the chosen protocols match the following security model br br confidentiality to prevent disclosure of private information or data sniffing such that even if the network traffic is sniffed at the packet level see network sniffer or deep packet inspection an attacker would see only encrypted data not the raw data br message integrity to detect and reject any instances of tampering with transmitted messages data packets are secured by tamper proofing via a message authentication code MAC which prevents the message from being altered or tampered without being rejected due to the MAC not matching with the altered data packet br VPN are not intended to make connecting users neither anonymous nor unidentifiable from the untrusted medium network provider perspective If the VPN makes use of protocols that do provide the above confidentiality features their usage can increase user privacy by making the untrusted medium owner unable to access the private data exchanged across the VPN br br br Authentication br In order to prevent unauthorized users from accessing the VPN most protocols can be implemented in ways that also enable authentication of connecting parties This secures the joined remote network confidentiality integrity and availability br Tunnel endpoints can be authenticated in various ways during the VPN access initiation Authentication can happen immediately on VPN initiation e g by simple whitelisting of endpoint IP address or very lately after actual tunnels are already active e g with a web captive portal br Remote access VPNs which are typically user initiated may use passwords biometrics two factor authentication or other cryptographic methods People initiating this kind of VPN from unknown arbitrary network locations are also called road warriors In such cases it is not possible to use originating network properties e g IP addresses as secure authentication factors and stronger methods are needed br Site to site VPNs often use passwords pre shared keys or digital certificates Depending on the VPN protocol they may store the key to allow the VPN tunnel to establish automatically without intervention from the administrator br br br VPN protocols to highlight br br A virtual private network is based on a tunneling protocol and may be possibly combined with other network or application protocols providing extra capabilities and different security model coverage br br Internet Protocol Security IPsec was initially developed by the Internet Engineering Task Force IETF for IPv and was required in all standards compliant implementations of IPv before RFC made it only a recommendation This standards based security protocol is also widely used with IPv Its design meets most security goals availability integrity and confidentiality IPsec uses encryption encapsulating an IP packet inside an IPsec packet De encapsulation happens at the end of the tunnel where the original IP packet is decrypted and forwarded to its intended destination IPsec tunnels are set up by Internet Key Exchange IKE protocol IPsec tunnels made with IKE version also known as IKEv tunnels or often just IPsec tunnels can be used alone to provide VPN but have been often combined to the Layer Tunneling Protocol L TP Their combination made possible to reuse existing L TP related implementations for more flexible authentication features e g Xauth desirable for remote access configurations IKE version which was created by Microsoft and Cisco can be used alone to provide IPsec VPN functionality Its primary advantages are the native support for authenticating via the Extensible Authentication Protocol EAP and that the tunnel can be seamlessly restored when the IP address of the associated host is changing which is typical of a roaming mobile device whether on G or G LTE networks IPsec is also often supported by network hardware accelerators which makes IPsec VPN desirable for low power scenarios like always on remote access VPN configurations br Transport Layer Security SSL TLS can tunnel an entire network s traffic as it does in the OpenVPN project and SoftEther VPN project or secure an individual connection A number of vendors provide remote access VPN capabilities through TLS A VPN based on TLS can connect from locations where the usual TLS web navigation HTTPS is supported without special extra configurations br Datagram Transport Layer Security DTLS used in Cisco AnyConnect VPN and in OpenConnect VPN to solve the issues TLS has with tunneling over TCP SSL TLS are TCP based and tunneling TCP over TCP can lead to big delays and connection aborts br Microsoft Point to Point Encryption MPPE works with the Point to Point Tunneling Protocol and in several compatible implementations on other platforms br Microsoft Secure Socket Tunneling Protocol SSTP tunnels Point to Point Protocol PPP or Layer Tunneling Protocol traffic through an SSL TLS channel SSTP was introduced in Windows Server and in Windows Vista Service Pack br Multi Path Virtual Private Network MPVPN Ragula Systems Development Company owns the registered trademark MPVPN br Secure Shell SSH VPN OpenSSH offers VPN tunneling distinct from port forwarding to secure remote connections to a network inter network links and remote systems OpenSSH server provides a limited number of concurrent tunnels The VPN feature itself does not support personal authentication SSH is more often used to remotely connect to machines or networks instead of a site to site VPN connection br WireGuard is a protocol In WireGuard support was added to both the Linux and Android kernels opening it up to adoption by VPN providers By default WireGuard utilizes the Curve protocol for key exchange and ChaCha Poly for encryption and message authentication but also includes the ability to pre share a symmetric key between the client and server br OpenVPN is a free and open source VPN protocol based on the TLS protocol It supports perfect forward secrecy and most modern secure cipher suites like AES Serpent TwoFish etc It is currently being developed and updated by OpenVPN Inc a non profit providing secure VPN technologies br Crypto IP Encapsulation CIPE is a free and open source VPN implementation for tunneling IPv packets over UDP via encapsulation CIPE was developed for Linux operating systems by Olaf Titz with a Windows port implemented by Damion K Wilson Development for CIPE ended in br br br Trusted delivery networks br Trusted VPNs do not use cryptographic tunneling instead they rely on the security of a single provider s network to protect the traffic br br Multiprotocol Label Switching MPLS often overlays VPNs often with quality of service control over a trusted delivery network br L TP which is a standards based replacement and a compromise taking the good features from each for two proprietary VPN protocols Cisco s Layer Forwarding L F obsolete as of and Microsoft s Point to Point Tunneling Protocol PPTP br From a security standpoint a VPN must either trust the underlying delivery network or enforce security with a mechanism in the VPN itself Unless the trusted delivery network runs among physically secure sites only both trusted and secure models need an authentication mechanism for users to gain access to the VPN br br br VPNs in mobile environments br Mobile virtual private networks are used in settings where an endpoint of the VPN is not fixed to a single IP address but instead roams across various networks such as data networks from cellular carriers or between multiple Wi Fi access points without dropping the secure VPN session or losing application sessions Mobile VPNs are widely used in public safety where they give law enforcement officers access to applications such as computer assisted dispatch and criminal databases and in other organizations with similar requirements such as field service management and healthcare br br br Networking limitations br A limitation of traditional VPNs is that they are point to point connections and do not tend to support broadcast domains therefore communication software and networking which are based on layer and broadcast packets such as NetBIOS used in Windows networking may not be fully supported as on a local area network Variants on VPN such as Virtual Private LAN Service VPLS and layer tunneling protocols are designed to overcome this limitation br br br See also br br br br br br Further reading br Kelly Sean August Necessity is the mother of VPN invention Communication News ISSN Archived from the original on December 