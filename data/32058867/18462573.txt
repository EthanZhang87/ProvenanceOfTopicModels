title: Apache Cassandra
id: 18462573
Apache Cassandra is a free and open source distributed wide column store NoSQL database management system designed to handle large amounts of data across many commodity servers providing high availability with no single point of failure Cassandra offers support for clusters spanning multiple data centers with asynchronous masterless replication allowing low latency operations for all clients Cassandra was designed to implement a combination of Amazon s Dynamo distributed storage and replication techniques combined with Google s Bigtable data and storage engine model br br br History br Avinash Lakshman one of the authors of Amazon s Dynamo and Prashant Malik initially developed Cassandra at Facebook to power the Facebook inbox search feature Facebook released Cassandra as an open source project on Google Code in July In March it became an Apache Incubator project On February it graduated to a top level project br Facebook developers named their database after the Trojan mythological prophet Cassandra with classical allusions to a curse on an oracle br br br Releases br Releases after graduation include br br released Apr added support for integrated caching and Apache Hadoop MapReduce br released Jan added secondary indexes and online schema changes br released Jun added the Cassandra Query Language CQL self tuning memtables and support for zero downtime upgrades br released Oct added integrated compression leveled compaction and improved read performance br released Apr added self tuning caches row level isolation and support for mixed ssd spinning disk deployments br released Jan added clustering across virtual nodes inter node communication atomic batches and request tracing br released Sep added lightweight transactions based on the Paxos consensus protocol triggers improved compactions br released Sep br released July br released November br through releases were monthly releases using a tick tock like release model with even numbered releases providing both new features and bug fixes while odd numbered releases will include bug fixes only br released June as a stable release series and bug fix from the last tick tock feature release br released July br released December br released February br br br Main features br Distributed br Every node in the cluster has the same role There is no single point of failure Data is distributed across the cluster so each node contains different data but there is no master as every node can service any request br Supports replication and multi data center replication br Replication strategies are configurable Cassandra is designed as a distributed system for deployment of large numbers of nodes across multiple data centers Key features of Cassandra s distributed architecture are specifically tailored for multiple data center deployment for redundancy for failover and disaster recovery br Scalability br Designed to have read and write throughput both increase linearly as new machines are added with the aim of no downtime or interruption to applications br Fault tolerant br Data is automatically replicated to multiple nodes for fault tolerance Replication across multiple data centers is supported Failed nodes can be replaced with no downtime br Tunable consistency br Cassandra is typically classified as an AP system meaning that availability and partition tolerance are generally considered to be more important than consistency in Cassandra Writes and reads offer a tunable level of consistency all the way from writes never fail to block for all replicas to be readable with the quorum level in the middle br MapReduce support br Cassandra has Hadoop integration with MapReduce support There is support also for Apache Pig and Apache Hive br Query language br Cassandra introduced the Cassandra Query Language CQL CQL is a simple interface for accessing Cassandra as an alternative to the traditional Structured Query Language SQL br Eventual consistency br Cassandra manages eventual consistency of reads upserts and deletes through Tombstones br br br Cassandra Query Language br Cassandra introduced the Cassandra Query Language CQL CQL is a simple interface for accessing Cassandra as an alternative to the traditional Structured Query Language SQL CQL adds an abstraction layer that hides implementation details of this structure and provides native syntaxes for collections and other common encodings Language drivers are available for Java JDBC Python DBAPI Node JS Datastax Go gocql and C br The keyspace in Cassandra is a namespace that defines data replication across nodes Therefore replication is defined at the keyspace level Below an example of keyspace creation including a column family in CQL br br Which gives br br br Known issues br Up to Cassandra Cassandra was not row level consistent meaning that inserts and updates into the table that affect the same row that are processed at approximately the same time may affect the non key columns in inconsistent ways One update may affect one column while another affects the other resulting in sets of values within the row that were never specified or intended Cassandra solved this issue by introducing row level isolation br Cassandra is not supported on Windows as of version see issue CASSANDRA br br br Tombstones br Deletion markers called Tombstones are known to cause severe performance degradation br br br Data model br Cassandra is wide column store and as such essentially a hybrid between a key value and a tabular database management system Its data model is a partitioned row store with tunable consistency Rows are organized into tables the first component of a table s primary key is the partition key within a partition rows are clustered by the remaining columns of the key Other columns may be indexed separately from the primary key br Tables may be created dropped and altered at run time without blocking updates and queries br Cassandra cannot do joins or subqueries Rather Cassandra emphasizes denormalization through features like collections br A column family called table since CQL resembles a table in an RDBMS Relational Database Management System Column families contain rows and columns Each row is uniquely identified by a row key Each row has multiple columns each of which has a name value and a timestamp Unlike a table in an RDBMS different rows in the same column family do not have to share the same set of columns and a column may be added to one or multiple rows at any time br Each key in Cassandra corresponds to a value which is an object Each key has values as columns and columns are grouped together into sets called column families Thus each key identifies a row of a variable number of elements These column families could be considered then as tables A table in Cassandra is a distributed multi dimensional map indexed by a key Furthermore applications can specify the sort order of columns within a Super Column or Simple Column family br br br Management and monitoring br Cassandra is a Java based system that can be managed and monitored via Java Management Extensions JMX The JMX compliant nodetool utility for instance can be used to manage a Cassandra cluster adding nodes to a ring draining nodes decommissioning nodes and so on Nodetool also offers a number of commands to return Cassandra metrics pertaining to disk usage latency compaction garbage collection and more br Since Cassandra in measures of several metrics are produced via the Dropwizard metrics framework and may be queried via JMX using tools such as JConsole or passed to external monitoring systems via Dropwizard compatible reporter plugins br br br See also br br Bigtable Original distributed database by Google br Distributed database br Distributed hash table DHT br Dynamo storage system Cassandra borrows many elements from Dynamo br ScyllaDB a distributed data store written in C that s API compatible with Cassandra br br br br br br Bibliography br br br External links br br Lakshman Avinash Cassandra A structured storage system on a P P Network Engineering Facebook s Notes Retrieved br The Apache Cassandra Project Forest Hill MD USA The Apache Software Foundation Retrieved br Project Wiki Forest Hill MD USA The Apache Software Foundation Archived from the original on Retrieved br Hewitt Eben Adopting Apache Cassandra infoq com InfoQ C Media Inc Retrieved br Lakshman Avinash Malik Prashant Cassandra A Decentralized Structured Storage System PDF cs cornell edu The authors are from Facebook Retrieved br Ellis Jonathan What Every Developer Should Know About Database Scalability slideshare net Retrieved From the OSCON talk on RDBMS vs Dynamo Bigtable and Cassandra br Cassandra RPM Red Hat Package Manager RPM build for the Apache Cassandra project code google com Menlo Park CA USA Google Project Hosting Retrieved br Roth Gregor Cassandra by example the path of read and write requests slideshare net Retrieved br Mansoor Umer A collection of Cassandra tutorials Retrieved br Bushik Sergey A vendor independent comparison of NoSQL databases Cassandra HBase MongoDB Riak NetworkWorld Framingham MA USA and Staines Middlesex UK IDG Archived from the original on Retrieved 