title: Physical design (electronics)
id: 13475586
In integrated circuit design physical design is a step in the standard design cycle which follows after the circuit design At this step circuit representations of the components devices and interconnects of the design are converted into geometric representations of shapes which when manufactured in the corresponding layers of materials will ensure the required functioning of the components This geometric representation is called integrated circuit layout This step is usually split into several sub steps which include both design and verification and validation of the layout br Modern day Integrated Circuit IC design is split up into Front end Design using HDLs and Back end Design or Physical Design The inputs to physical design are i a netlist ii library information on the basic devices in the design and iii a technology file containing the manufacturing constraints Physical design is usually concluded by Layout Post Processing in which amendments and additions to the chip layout are performed This is followed by the Fabrication or Manufacturing Process where designs are transferred onto silicon dies which are then packaged into ICs br Each of the phases mentioned above has design flows associated with them These design flows lay down the process and guide lines framework for that phase The physical design flow uses the technology libraries that are provided by the fabrication houses These technology files provide information regarding the type of silicon wafer used the standard cells used the layout rules like DRC in VLSI etc br br br Divisions br Typically the IC physical design is categorized into full custom and semi custom design br br Full Custom Designer has full flexibility on the layout design no predefined cells are used br Semi Custom Pre designed library cells preferably tested with DFM are used designer has flexibility in placement of the cells and routing br One can use ASIC for Full Custom design and FPGA for Semi Custom design flows The reason being that one has the flexibility to design modify design blocks from vendor provided libraries in ASIC This flexibility is missing for Semi Custom flows using FPGAs e g Altera br br br ASIC physical design flow br br The main steps in the ASIC physical design flow are br br Design Netlist after synthesis br Floorplanning br Partitioning br Placement br Clock tree Synthesis CTS br Routing br Physical Verification br Layout Post Processing with Mask Data Generation br These steps are just the basics There are detailed PD flows that are used depending on the Tools used and the methodology technology Some of the tools software used in the back end design are br br Cadence Cadence Encounter RTL Compiler Encounter Digital Implementation Cadence Voltus IC Power Integrity Solution Cadence Tempus Timing Signoff Solution br Synopsys Design Compiler IC Compiler II IC Validator PrimeTime PrimePower PrimeRail br Magma BlastFusion etc br Mentor Graphics Olympus SoC IC Station Calibre br The ASIC physical design flow uses the technology libraries that are provided by the fabrication houses Technologies are commonly classified according to minimal feature size Standard sizes in the order of miniaturization are m m m m m nm nm nm nm nm nm nm nm nm etc They may be also classified according to major manufacturing approaches n Well process twin well process SOI process etc br br br Design netlist br Physical design is based on a netlist which is the end result of the synthesis process Synthesis converts the RTL design usually coded in VHDL or Verilog HDL to gate level descriptions which the next set of tools can read understand This netlist contains information on the cells used their interconnections area used and other details Typical synthesis tools are br br Cadence RTL Compiler Build Gates Physically Knowledgeable Synthesis PKS br Synopsys Design Compiler br During the synthesis process constraints are applied to ensure that the design meets the required functionality and speed specifications Only after the netlist is verified for functionality and timing it is sent for the physical design flow br br br Steps br br br Partitioning br Partitioning is a process of dividing the chip into small blocks This is done mainly to separate different functional blocks and also to make placement and routing easier Partitioning can be done in the RTL design phase when the design engineer partitions the entire design into sub blocks and then proceeds to design each module These modules are linked together in the main module called the TOP LEVEL module This kind of partitioning is commonly referred to as Logical Partitioning The goal of partitioning is to split the circuit such that the number of connections between partitions is minimized br br br Floorplanning br The second step in the physical design flow is floorplanning Floorplanning is the process of identifying structures that should be placed close together and allocating space for them in such a manner as to meet the sometimes conflicting goals of available space cost of the chip required performance and the desire to have everything close to everything else br Based on the area of the design and the hierarchy a suitable floorplan is decided upon Floorplanning takes into account the macros used in the design memory other IP cores and their placement needs the routing possibilities and also the area of the entire design Floorplanning also determines the IO structure and aspect ratio of the design A bad floorplan will lead to wastage of die area and routing congestion br In many design methodologies area and speed are the subjects of trade offs This is due to limited routing resources as the more resources used the slower the operation Optimizing for minimum area allows the design both to use fewer resources and for greater proximity of the sections of the design This leads to shorter interconnect distances fewer routing resources used faster end to end signal paths and even faster and more consistent place and route times Done correctly there are no negatives to floorplanning br As a general rule data path sections benefit most from floorplanning whereas random logic state machines and other non structured logic can safely be left to the placer section of the place and route software br Data paths are typically the areas of the design where multiple bits are processed in parallel with each bit being modified the same way with maybe some influence from adjacent bits Example structures that make up data paths are Adders Subtractors Counters Registers and Muxes br br br Placement br Before the start of placement optimization all Wire Load Models WLM are removed Placement uses RC values from Virtual Route VR to calculate timing VR is the shortest Manhattan distance between two pins VR RCs are more accurate than WLM RCs br Placement is performed in four optimization phases br br Pre placement optimization br In placement optimization br Post Placement Optimization PPO before clock tree synthesis CTS br PPO after CTS br Pre placement Optimization optimizes the netlist before placement HFNs High Fanout Nets are collapsed It can also downsize the cells br In placement optimization re optimizes the logic based on VR This can perform cell sizing cell moving cell bypassing net splitting gate duplication buffer insertion area recovery Optimization performs iteration of setup fixing incremental timing and congestion driven placement br Post placement optimization before CTS performs netlist optimization with ideal clocks It can fix setup hold max trans cap violations It can do placement optimization based on global routing It re does HFN synthesis br Post placement optimization after CTS optimizes timing with propagated clock It tries to preserve clock skew br br br Clock tree synthesis br br The goal of clock tree synthesis CTS is to minimize skew and insertion delay Clock is not propagated before CTS as shown in the picture After CTS hold slack should improve Clock tree begins at sdc defined clock source and ends at stop pins of flop There are two types of stop pins known as ignore pins and sync pins Don t touch circuits and pins in front end logic synthesis are treated as ignore circuits or pins at back end physical synthesis Ignore pins are ignored for timing analysis If clock is divided then separate skew analysis is necessary br br Global skew achieves zero skew between two synchronous pins without considering logic relationship br Local skew achieves zero skew between two synchronous pins while considering logic relationship br If clock is skewed intentionally to improve setup slack then it is known as useful skew br Rigidity is the term coined in Astro to indicate the relaxation of constraints Higher the rigidity tighter is the constraints br br In clock tree optimization CTO clock can be shielded so that noise is not coupled to other signals But shielding increases area by to Since the clock signal is global in nature the same metal layer used for power routing is used for clock also CTO is achieved by buffer sizing gate sizing buffer relocation level adjustment and HFN synthesis We try to improve setup slack in pre placement in placement and post placement optimization before CTS stages while neglecting hold slack In post placement optimization after CTS hold slack is improved As a result of CTS lot of buffers are added Generally for k gates around buffers are added br br br Routing br There are two types of routing in the physical design process global routing and detailed routing Global routing allocates routing resources that are used for connections It also does track assignment for a particular net br Detailed routing does the actual connections Different constraints that are to be taken care during the routing are DRC wire length timing etc br br br Physical verification br Physical verification checks the correctness of the generated layout design This includes verifying that the layout br br Complies with all technology requirements Design Rule Checking DRC br Is consistent with the original netlist Layout vs Schematic LVS br Has no antenna effects Antenna Rule Checking br This also includes density verification at the full chip level Cleaning density is a very critical step in the lower technology nodes br Complies with all electrical requirements Electrical Rule Checking ERC br br br Layout post processing br Layout Post Processing also known mask data preparation often concludes physical design and verification It converts the physical layout polygons into mask data instructions for the photomask writer It includes br br Chip finishing such as inserting company chip labels and final structures e g seal ring filler structures br Generating a reticle layout with test patterns and alignment marks br Layout to mask preparation that extends layout data with graphics operations e g resolution enhancement technologies RET and adjusts the data to mask production devices photomask writer br br br See also br FEOL br BEOL br br br 