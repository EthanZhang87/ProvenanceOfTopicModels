title: Processor design
id: 7597
Processor design is a subfield of computer science and computer engineering fabrication that deals with creating a processor a key component of computer hardware br The design process involves choosing an instruction set and a certain execution paradigm e g VLIW or RISC and results in a microarchitecture which might be described in e g VHDL or Verilog For microprocessor design this description is then manufactured employing some of the various semiconductor device fabrication processes resulting in a die which is bonded onto a chip carrier This chip carrier is then soldered onto or inserted into a socket on a printed circuit board PCB br The mode of operation of any processor is the execution of lists of instructions Instructions typically include those to compute or manipulate data values using registers change or retrieve values in read write memory perform relational tests between data values and to control program flow br Processor designs are often tested and validated on one or several FPGAs before sending the design of the processor to a foundry for semiconductor fabrication br br br Details br br br Basics br CPU design is divided into multiple components Information is transferred through datapaths such as ALUs and pipelines These datapaths are controlled through logic by control units Memory components include register files and caches to retain information or certain actions Clock circuitry maintains internal rhythms and timing through clock drivers PLLs and clock distribution networks Pad transceiver circuitry with allows signals to be received and sent and a logic gate cell library which is used to implement the logic br CPUs designed for high performance markets might require custom optimized or application specific see below designs for each of these items to achieve frequency power dissipation and chip area goals whereas CPUs designed for lower performance markets might lessen the implementation burden by acquiring some of these items by purchasing them as intellectual property Control logic implementation techniques logic synthesis using CAD tools can be used to implement datapaths register files and clocks Common logic styles used in CPU design include unstructured random logic finite state machines microprogramming common from to and Programmable logic arrays common in the s no longer common br br br Implementation logic br Device types used to implement the logic include br br Individual vacuum tubes individual transistors and semiconductor diodes and transistor transistor logic small scale integration logic chips no longer used for CPUs br Programmable array logic and programmable logic devices no longer used for CPUs br Emitter coupled logic ECL gate arrays no longer common br CMOS gate arrays no longer used for CPUs br CMOS mass produced ICs the vast majority of CPUs by volume br CMOS ASICs only for a minority of special applications due to expense br Field programmable gate arrays FPGA common for soft microprocessors and more or less required for reconfigurable computing br A CPU design project generally has these major tasks br br Programmer visible instruction set architecture which can be implemented by a variety of microarchitectures br Architectural study and performance modeling in ANSI C C or SystemC br High level synthesis HLS or register transfer level RTL e g logic implementation br RTL verification br Circuit design of speed critical components caches registers ALUs br Logic synthesis or logic gate level design br Timing analysis to confirm that all logic and circuits will run at the specified operating frequency br Physical design including floorplanning place and route of logic gates br Checking that RTL gate level transistor level and physical level representations are equivalent br Checks for signal integrity chip manufacturability br Re designing a CPU core to a smaller die area helps to shrink everything a photomask shrink resulting in the same number of transistors on a smaller die It improves performance smaller transistors switch faster reduces power smaller wires have less parasitic capacitance and reduces cost more CPUs fit on the same wafer of silicon Releasing a CPU on the same size die but with a smaller CPU core keeps the cost about the same but allows higher levels of integration within one very large scale integration chip additional cache multiple CPUs or other components improving performance and reducing overall system cost br As with most complex electronic designs the logic verification effort proving that the design does not have bugs now dominates the project schedule of a CPU br Key CPU architectural innovations include index register cache virtual memory instruction pipelining superscalar CISC RISC virtual machine emulators microprogram and stack br br br Micro architectural concepts br br br Research topics br br A variety of new CPU design ideas have been proposed br including reconfigurable logic clockless CPUs computational RAM and optical computing br br br Performance analysis and benchmarking br br Benchmarking is a way of testing CPU speed Examples include SPECint and SPECfp developed by Standard Performance Evaluation Corporation and ConsumerMark developed by the Embedded Microprocessor Benchmark Consortium EEMBC br Some of the commonly used metrics include br br Instructions per second Most consumers pick a computer architecture normally Intel IA architecture to be able to run a large base of pre existing pre compiled software Being relatively uninformed on computer benchmarks some of them pick a particular CPU based on operating frequency see Megahertz Myth br FLOPS The number of floating point operations per second is often important in selecting computers for scientific computations br Performance per watt System designers building parallel computers such as Google pick CPUs based on their speed per watt of power because the cost of powering the CPU outweighs the cost of the CPU itself br Some system designers building parallel computers pick CPUs based on the speed per dollar br System designers building real time computing systems want to guarantee worst case response That is easier to do when the CPU has low interrupt latency and when it has deterministic response DSP br Computer programmers who program directly in assembly language want a CPU to support a full featured instruction set br Low power For systems with limited power sources e g solar batteries human power br Small size or low weight for portable embedded systems systems for spacecraft br Environmental impact Minimizing environmental impact of computers during manufacturing and recycling as well during use Reducing waste reducing hazardous materials see Green computing br There may be tradeoffs in optimizing some of these metrics In particular many design techniques that make a CPU run faster make the performance per watt performance per dollar and deterministic response much worse and vice versa br br br Markets br br There are several different markets in which CPUs are used Since each of these markets differ in their requirements for CPUs the devices designed for one market are in most cases inappropriate for the other markets br br br General purpose computing br As of in the general purpose computing market that is desktop laptop and server computers commonly used in businesses and homes the Intel IA and the bit version x architecture dominate the market with its rivals PowerPC and SPARC maintaining much smaller customer bases Yearly hundreds of millions of IA architecture CPUs are used by this market A growing percentage of these processors are for mobile implementations such as netbooks and laptops br Since these devices are used to run countless different types of programs these CPU designs are not specifically targeted at one type of application or one function The demands of being able to run a wide range of programs efficiently has made these CPU designs among the more advanced technically along with some disadvantages of being relatively costly and having high power consumption br br br High end processor economics br In most high performance CPUs required four to five years to develop br br br Scientific computing br br Scientific computing is a much smaller niche market in revenue and units shipped It is used in government research labs and universities Before CPU design was often done for this market but mass market CPUs organized into large clusters have proven to be more affordable The main remaining area of active hardware design and research for scientific computing is for high speed data transmission systems to connect mass market CPUs br br br Embedded design br br As measured by units shipped most CPUs are embedded in other machinery such as telephones clocks appliances vehicles and infrastructure Embedded processors sell in the volume of many billions of units per year however mostly at much lower price points than that of the general purpose processors br These single function devices differ from the more familiar general purpose CPUs in several ways br br Low cost is of high importance br It is important to maintain a low power dissipation as embedded devices often have a limited battery life and it is often impractical to include cooling fans br To give lower system cost peripherals are integrated with the processor on the same silicon chip br Keeping peripherals on chip also reduces power consumption as external GPIO ports typically require buffering so that they can source or sink the relatively high current loads that are required to maintain a strong signal outside of the chip br Many embedded applications have a limited amount of physical space for circuitry keeping peripherals on chip will reduce the space required for the circuit board br The program and data memories are often integrated on the same chip When the only allowed program memory is ROM the device is known as a microcontroller br For many embedded applications interrupt latency will be more critical than in some general purpose processors br br br Embedded processor economics br The embedded CPU family with the largest number of total units shipped is the averaging nearly a billion units per year The is widely used because it is very inexpensive The design time is now roughly zero because it is widely available as commercial intellectual property It is now often embedded as a small part of a larger system on a chip The silicon cost of an is now as low as US because some implementations use as few as logic gates and take square millimeters of silicon br As of more CPUs are produced using the ARM architecture family instruction sets than any other bit instruction set br The ARM architecture and the first ARM chip were designed in about one and a half years and human years of work time br The bit Parallax Propeller microcontroller architecture and the first chip were designed by two people in about human years of work time br The bit AVR architecture and first AVR microcontroller was conceived and designed by two students at the Norwegian Institute of Technology br The bit architecture and the first MOS Technology chip were designed in months by a group of about people br br br Research and educational CPU design br The bit Berkeley RISC I and RISC II processors were mostly designed by a series of students as part of a four quarter sequence of graduate courses br This design became the basis of the commercial SPARC processor design br For about a decade every student taking the class at MIT was part of a team each team had one semester to design and build a simple bit CPU out of series integrated circuits br One team of students designed and built a simple bit CPU during that semester br Some undergraduate courses require a team of to students to design implement and test a simple CPU in a FPGA in a single week semester br The MultiTitan CPU was designed with man years of effort which was considered relatively little design effort at the time br people contributed to the year MultiTitan research project which included designing and building a prototype CPU br br br Soft microprocessor cores br br For embedded systems the highest performance levels are often not needed or desired due to the power consumption requirements This allows for the use of processors which can be totally implemented by logic synthesis techniques These synthesized processors can be implemented in a much shorter amount of time giving quicker time to market br br br See also br br Amdahl s law br Central processing unit br Comparison of instruction set architectures br Complex instruction set computer br Electronic design automation br High level synthesis br History of general purpose CPUs br Integrated circuit design br Microarchitecture br Microprocessor br Minimal instruction set computer br Moore s law br Reduced instruction set computer br System on a chip br Network on a chip br Process design kit a set of documents created or accumulated for a semiconductor device production process br br br br br br General references br Hwang Enoch Digital Logic and Microprocessor Design with VHDL Thomson ISBN br Processor Design An Introduction