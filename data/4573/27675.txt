title: Simple Mail Transfer Protocol
id: 27675
The Simple Mail Transfer Protocol SMTP is an Internet standard communication protocol for electronic mail transmission Mail servers and other message transfer agents use SMTP to send and receive mail messages User level email clients typically use SMTP only for sending messages to a mail server for relaying and typically submit outgoing email to the mail server on port or per RFC For retrieving messages IMAP which replaced the older POP is standard but proprietary servers also often implement proprietary protocols e g Exchange ActiveSync br SMTP s origins began in building on concepts implemented on the ARPANET since It has been updated modified and extended multiple times The protocol version in common use today has extensible structure with various extensions for authentication encryption binary data transfer and internationalized email addresses SMTP servers commonly use the Transmission Control Protocol on port number between servers and for submission from authenticated clients both with or without encryption br br br History br br br Predecessors to SMTP br Various forms of one to one electronic messaging were used in the s Users communicated using systems developed for specific mainframe computers As more computers were interconnected especially in the U S Government s ARPANET standards were developed to permit exchange of messages between different operating systems br Mail on the ARPANET traces its roots to the Mail Box Protocol which was not implemented but is discussed in RFC and the SNDMSG program which Ray Tomlinson of BBN adapted that year to send messages across two computers on the ARPANET A further proposal for a Mail Protocol was made in RFC in June which was not implemented br The use of the File Transfer Protocol FTP for network mail on the ARPANET was proposed in RFC in March Through RFC RFC RFC and finally RFC in November a standardized framework for electronic mail using FTP mail servers on was developed br SMTP grew out of these standards developed during the s Ray Tomlinson discussed network mail among the International Network Working Group in INWG Protocol note written in September INWG discussed protocols for electronic mail in which was referenced by Jon Postel in his early work on Internet email Postel first proposed an Internet Message Protocol in as part of the Internet Experiment Note IEN series br br br Original SMTP br In Postel and Suzanne Sluizer published RFC which proposed the Mail Transfer Protocol as a replacement for the use of the FTP for mail RFC of May removed all references to FTP and allocated port for TCP and UDP an allocation that has since been removed by IANA In November Postel published RFC Simple Mail Transfer Protocol br The SMTP standard was developed around the same time as Usenet a one to many communication network with some similarities br SMTP became widely used in the early s At the time it was a complement to the Unix to Unix Copy Program UUCP which was better suited for handling email transfers between machines that were intermittently connected SMTP on the other hand works best when both the sending and receiving machines are connected to the network all the time Both used a store and forward mechanism and are examples of push technology Though Usenet s newsgroups were still propagated with UUCP between servers UUCP as a mail transport has virtually disappeared along with the bang paths it used as message routing headers br Sendmail released with cBSD in was one of the first mail transfer agents to implement SMTP Over time as BSD Unix became the most popular operating system on the Internet Sendmail became the most common MTA mail transfer agent br The original SMTP protocol supported only unauthenticated unencrypted bit ASCII text communications susceptible to trivial man in the middle attack spoofing and spamming and requiring any binary data to be encoded to readable text before transmission Due to absence of a proper authentication mechanism by design every SMTP server was an open mail relay The Internet Mail Consortium IMC reported that of mail servers were open relays in but less than in Because of spam concerns most email providers blocklist open relays making original SMTP essentially impractical for general use on the Internet br br br Modern SMTP br In November RFC defined Extended Simple Mail Transfer Protocol ESMTP which established a general structure for all existing and future extensions which aimed to add in the features missing from the original SMTP ESMTP defines consistent and manageable means by which ESMTP clients and servers can be identified and servers can indicate supported extensions br Message submission RFC and SMTP AUTH RFC were introduced in and both describing new trends in email delivery Originally SMTP servers were typically internal to an organization receiving mail for the organization from the outside and relaying messages from the organization to the outside But as time went on SMTP servers mail transfer agents in practice were expanding their roles to become message submission agents for mail user agents some of which were now relaying mail from the outside of an organization e g a company executive wishes to send email while on a trip using the corporate SMTP server This issue a consequence of the rapid expansion and popularity of the World Wide Web meant that SMTP had to include specific rules and methods for relaying mail and authenticating users to prevent abuses such as relaying of unsolicited email spam Work on message submission RFC was originally started because popular mail servers would often rewrite mail in an attempt to fix problems in it for example adding a domain name to an unqualified address This behavior is helpful when the message being fixed is an initial submission but dangerous and harmful when the message originated elsewhere and is being relayed Cleanly separating mail into submission and relay was seen as a way to permit and encourage rewriting submissions while prohibiting rewriting relay As spam became more prevalent it was also seen as a way to provide authorization for mail being sent out from an organization as well as traceability This separation of relay and submission quickly became a foundation for modern email security practices br As this protocol started out purely ASCII text based it did not deal well with binary files or characters in many non English languages Standards such as Multipurpose Internet Mail Extensions MIME were developed to encode binary files for transfer through SMTP Mail transfer agents MTAs developed after Sendmail also tended to be implemented bit clean so that the alternate just send eight strategy could be used to transmit arbitrary text data in any bit ASCII like character encoding via SMTP Mojibake was still a problem due to differing character set mappings between vendors although the email addresses themselves still allowed only ASCII bit clean MTAs today tend to support the BITMIME extension permitting some binary files to be transmitted almost as easily as plain text limits on line length and permitted octet values still apply so that MIME encoding is needed for most non text data and some text formats In the SMTPUTF extension was created to support UTF text allowing international content and addresses in non Latin scripts like Cyrillic or Chinese br Many people contributed to the core SMTP specifications among them Jon Postel Eric Allman Dave Crocker Ned Freed Randall Gellens John Klensin and Keith Moore br br br Mail processing model br br Email is submitted by a mail client mail user agent MUA to a mail server mail submission agent MSA using SMTP on TCP port Most mailbox providers still allow submission on traditional port The MSA delivers the mail to its mail transfer agent MTA Often these two agents are instances of the same software launched with different options on the same machine Local processing can be done either on a single machine or split among multiple machines mail agent processes on one machine can share files but if processing is on multiple machines they transfer messages between each other using SMTP where each machine is configured to use the next machine as a smart host Each process is an MTA an SMTP server in its own right br The boundary MTA uses DNS to look up the MX mail exchanger record for the recipient s domain the part of the email address on the right of The MX record contains the name of the target MTA Based on the target host and other factors the sending MTA selects a recipient server and connects to it to complete the mail exchange br Message transfer can occur in a single connection between two MTAs or in a series of hops through intermediary systems A receiving SMTP server may be the ultimate destination an intermediate relay that is it stores and forwards the message or a gateway that is it may forward the message using some protocol other than SMTP Per RFC section each hop is a formal handoff of responsibility for the message whereby the receiving server must either deliver the message or properly report the failure to do so br Once the final hop accepts the incoming message it hands it to a mail delivery agent MDA for local delivery An MDA saves messages in the relevant mailbox format As with sending this reception can be done using one or multiple computers but in the diagram above the MDA is depicted as one box near the mail exchanger box An MDA may deliver messages directly to storage or forward them over a network using SMTP or other protocol such as Local Mail Transfer Protocol LMTP a derivative of SMTP designed for this purpose br Once delivered to the local mail server the mail is stored for batch retrieval by authenticated mail clients MUAs Mail is retrieved by end user applications called email clients using Internet Message Access Protocol IMAP a protocol that both facilitates access to mail and manages stored mail or the Post Office Protocol POP which typically uses the traditional mbox mail file format or a proprietary system such as Microsoft Exchange Outlook or Lotus Notes Domino Webmail clients may use either method but the retrieval protocol is often not a formal standard br SMTP defines message transport not the message content Thus it defines the mail envelope and its parameters such as the envelope sender but not the header except trace information nor the body of the message itself STD and RFC define SMTP the envelope while STD and RFC define the message header and body formally referred to as the Internet Message Format br br br Protocol overview br SMTP is a connection oriented text based protocol in which a mail sender communicates with a mail receiver by issuing command strings and supplying necessary data over a reliable ordered data stream channel typically a Transmission Control Protocol TCP connection An SMTP session consists of commands originated by an SMTP client the initiating agent sender or transmitter and corresponding responses from the SMTP server the listening agent or receiver so that the session is opened and session parameters are exchanged A session may include zero or more SMTP transactions An SMTP transaction consists of three command reply sequences br br MAIL command to establish the return address also called return path reverse path bounce address mfrom or envelope sender br RCPT command to establish a recipient of the message This command can be issued multiple times one for each recipient These addresses are also part of the envelope br DATA to signal the beginning of the message text the content of the message as opposed to its envelope It consists of a message header and a message body separated by an empty line DATA is actually a group of commands and the server replies twice once to the DATA command itself to acknowledge that it is ready to receive the text and the second time after the end of data sequence to either accept or reject the entire message br Besides the intermediate reply for DATA each server s reply can be either positive xx reply codes or negative Negative replies can be permanent xx codes or transient xx codes A reject is a permanent failure and the client should send a bounce message to the server it received it from A drop is a positive response followed by message discard rather than delivery br The initiating host the SMTP client can be either an end user s email client functionally identified as a mail user agent MUA or a relay server s mail transfer agent MTA that is an SMTP server acting as an SMTP client in the relevant session in order to relay mail Fully capable SMTP servers maintain queues of messages for retrying message transmissions that resulted in transient failures br A MUA knows the outgoing mail SMTP server from its configuration A relay server typically determines which server to connect to by looking up the MX Mail eXchange DNS resource record for each recipient s domain name If no MX record is found a conformant relaying server not all are instead looks up the A record Relay servers can also be configured to use a smart host A relay server initiates a TCP connection to the server on the well known port for SMTP port or for connecting to an MSA port The main difference between an MTA and an MSA is that connecting to an MSA requires SMTP Authentication br br br SMTP vs mail retrieval br SMTP is a delivery protocol only In normal use mail is pushed to a destination mail server or next hop mail server as it arrives Mail is routed based on the destination server not the individual user s to which it is addressed Other protocols such as the Post Office Protocol POP and the Internet Message Access Protocol IMAP are specifically designed for use by individual users retrieving messages and managing mailboxes To permit an intermittently connected mail server to pull messages from a remote server on demand SMTP has a feature to initiate mail queue processing on a remote server see Remote Message Queue Starting below POP and IMAP are unsuitable protocols for relaying mail by intermittently connected machines they are designed to operate after final delivery when information critical to the correct operation of mail relay the mail envelope has been removed br br br Remote Message Queue Starting br Remote Message Queue Starting enables a remote host to start processing of the mail queue on a server so it may receive messages destined to it by sending a corresponding command The original TURN command was deemed insecure and was extended in RFC with the ETRN command which operates more securely using an authentication method based on Domain Name System information br br br Outgoing mail SMTP server br An email client needs to know the IP address of its initial SMTP server and this has to be given as part of its configuration usually given as a DNS name This server will deliver outgoing messages on behalf of the user br br br Outgoing mail server access restrictions br Server administrators need to impose some control on which clients can use the server This enables them to deal with abuse for example spam Two solutions have been in common use br br In the past many systems imposed usage restrictions by the location of the client only permitting usage by clients whose IP address is one that the server administrators control Usage from any other client IP address is disallowed br Modern SMTP servers typically offer an alternative system that requires authentication of clients by credentials before allowing access br br br Restricting access by location br Under this system an ISP s SMTP server will not allow access by users who are outside the ISP s network More precisely the server may only allow access to users with an IP address provided by the ISP which is equivalent to requiring that they are connected to the Internet using that same ISP A mobile user may often be on a network other than that of their normal ISP and will then find that sending email fails because the configured SMTP server choice is no longer accessible br This system has several variations For example an organisation s SMTP server may only provide service to users on the same network enforcing this by firewalling to block access by users on the wider Internet Or the server may perform range checks on the client s IP address These methods were typically used by corporations and institutions such as universities which provided an SMTP server for outbound mail only for use internally within the organisation However most of these bodies now use client authentication methods as described below br Where a user is mobile and may use different ISPs to connect to the internet this kind of usage restriction is onerous and altering the configured outbound email SMTP server address is impractical It is highly desirable to be able to use email client configuration information that does not need to change br br br Client authentication br Modern SMTP servers typically require authentication of clients by credentials before allowing access rather than restricting access by location as described earlier This more flexible system is friendly to mobile users and allows them to have a fixed choice of configured outbound SMTP server SMTP Authentication often abbreviated SMTP AUTH is an extension of the SMTP in order to log in using an authentication mechanism br br br Ports br Communication between mail servers generally uses the standard TCP port designated for SMTP br Mail clients however generally don t use this instead using specific submission ports Mail services generally accept email submission from clients on one of br br Submission as formalized in RFC previously RFC br This port was deprecated after RFC until the issue of RFC br Port and others may be used by some individual providers but have never been officially supported br Many Internet service providers now block all outgoing port traffic from their customers Mainly as an anti spam measure but also to cure for the higher cost they have when leaving it open perhaps by charging more from the few customers that require it open br br br SMTP transport example br A typical example of sending a message via SMTP to two mailboxes alice and theboss located in the same mail domain example com is reproduced in the following session exchange In this example the conversation parts are prefixed with S and C for server and client respectively these labels are not part of the exchange br After the message sender SMTP client establishes a reliable communications channel to the message receiver SMTP server the session is opened with a greeting by the server usually containing its fully qualified domain name FQDN in this case smtp example com The client initiates its dialog by responding with a HELO command identifying itself in the command s parameter with its FQDN or an address literal if none is available br br S smtp example com ESMTP Postfix br C HELO relay example org br S Hello relay example org I am glad to meet you br C MAIL FROM bob example org br S Ok br C RCPT TO alice example com br S Ok br C RCPT TO theboss example com br S Ok br C DATA br S End data with CR LF CR LF br C From Bob Example bob example org br C To Alice Example alice example com br C Cc theboss example com br C Date Tue Jan br C Subject Test message br C br C Hello Alice br C This is a test message with header fields and lines in the message body br C Your friend br C Bob br C br S Ok queued as br C QUIT br S Bye br The server closes the connection br br The client notifies the receiver of the originating email address of the message in a MAIL FROM command This is also the return or bounce address in case the message cannot be delivered In this example the email message is sent to two mailboxes on the same SMTP server one for each recipient listed in the To and Cc header fields The corresponding SMTP command is RCPT TO Each successful reception and execution of a command is acknowledged by the server with a result code and response message e g Ok br The transmission of the body of the mail message is initiated with a DATA command after which it is transmitted verbatim line by line and is terminated with an end of data sequence This sequence consists of a new line CR LF a single full stop followed by another new line CR LF Since a message body can contain a line with just a period as part of the text the client sends two periods every time a line starts with a period correspondingly the server replaces every sequence of two periods at the beginning of a line with a single one Such escaping method is called dot stuffing br The server s positive reply to the end of data as exemplified implies that the server has taken the responsibility of delivering the message A message can be doubled if there is a communication failure at this time e g due to a power shortage Until the sender has received that Ok reply it must assume the message was not delivered On the other hand after the receiver has decided to accept the message it must assume the message has been delivered to it Thus during this time span both agents have active copies of the message that they will try to deliver The probability that a communication failure occurs exactly at this step is directly proportional to the amount of filtering that the server performs on the message body most often for anti spam purposes The limiting timeout is specified to be minutes br The QUIT command ends the session If the email has other recipients located elsewhere the client would QUIT and connect to an appropriate SMTP server for subsequent recipients after the current destination s had been queued The information that the client sends in the HELO and MAIL FROM commands are added not seen in example code as additional header fields to the message by the receiving server It adds a Received and Return Path header field respectively br Some clients are implemented to close the connection after the message is accepted Ok queued as so the last two lines may actually be omitted This causes an error on the server when trying to send the Bye reply br br br SMTP Extensions br br br Extension discovery mechanism br Clients learn a server s supported options by using the EHLO greeting as exemplified below instead of the original HELO Clients fall back to HELO only if the server does not support EHLO greeting br Modern clients may use the ESMTP extension keyword SIZE to query the server for the maximum message size that will be accepted Older clients and servers may try to transfer excessively sized messages that will be rejected after consuming network resources including connect time to network links that is paid by the minute br Users can manually determine in advance the maximum size accepted by ESMTP servers The client replaces the HELO command with the EHLO command br br S smtp example com ESMTP Postfix br C EHLO bob example org br S smtp example com Hello bob example org br S SIZE br S PIPELINING br S HELP br br Thus smtp example com declares that it can accept a fixed maximum message size no larger than octets bit bytes br In the simplest case an ESMTP server declares a maximum SIZE immediately after receiving an EHLO According to RFC however the numeric parameter to the SIZE extension in the EHLO response is optional Clients may instead when issuing a MAIL FROM command include a numeric estimate of the size of the message they are transferring so that the server can refuse receipt of overly large messages br br br Binary data transfer br Original SMTP supports only a single body of ASCII text therefore any binary data needs to be encoded as text into that body of the message before transfer and then decoded by the recipient Binary to text encodings such as uuencode and BinHex were typically used br The BITMIME command was developed to address this It was standardized in as RFC It facilitates the transparent exchange of e mail messages containing octets outside the seven bit ASCII character set by encoding them as MIME content parts typically encoded with Base br br br Mail delivery mechanism extensions br br br On Demand Mail Relay br br On Demand Mail Relay ODMR is an SMTP extension standardized in RFC that allows an intermittently connected SMTP server to receive email queued for it when it is connected br br br Internationalization extension br br Original SMTP supports email addresses composed of ASCII characters only which is inconvenient for users whose native script is not Latin based or who use diacritic not in the ASCII character set This limitation was alleviated via extensions enabling UTF in address names RFC introduced experimental UTF SMTP command and later was superseded by RFC that introduced SMTPUTF command These extensions provide support for multi byte and non ASCII characters in email addresses such as those with diacritics and other language characters such as Greek and Chinese br Current support is limited but there is strong interest in broad adoption of RFC and the related RFCs in countries like China that have a large user base where Latin ASCII is a foreign script br br br Extensions br Like SMTP ESMTP is a protocol used to transport Internet mail It is used as both an inter server transport protocol and with restricted behavior enforced a mail submission protocol br The main identification feature for ESMTP clients is to open a transmission with the command EHLO Extended HELLO rather than HELO Hello the original RFC standard A server will respond with success code failure code or error code or depending on its configuration An ESMTP server returns the code OK in a multi line reply with its domain and a list of keywords to indicate supported extensions A RFC compliant server returns error code allowing ESMTP clients to try either HELO or QUIT br Each service extension is defined in an approved format in subsequent RFCs and registered with the Internet Assigned Numbers Authority IANA The first definitions were the RFC optional services SEND SOML Send or Mail SAML Send and Mail EXPN HELP and TURN The format of additional SMTP verbs was set and for new parameters in MAIL and RCPT br Some relatively common keywords not all of them corresponding to commands used today are br br BITMIME bit data transmission RFC br ATRN Authenticated TURN for On Demand Mail Relay RFC br AUTH Authenticated SMTP RFC br CHUNKING Chunking RFC br DSN Delivery status notification RFC See Variable envelope return path br ETRN Extended version of remote message queue starting command TURN RFC br HELP Supply helpful information RFC br PIPELINING Command pipelining RFC br SIZE Message size declaration RFC br STARTTLS Transport Layer Security RFC br SMTPUTF Allow UTF encoding in mailbox names and header fields RFC br UTF SMTP Allow UTF encoding in mailbox names and header fields RFC deprecated br The ESMTP format was restated in RFC superseding RFC and updated to the latest definition in RFC in Support for the EHLO command in servers became mandatory and HELO designated a required fallback br Non standard unregistered service extensions can be used by bilateral agreement these services are indicated by an EHLO message keyword starting with X and with any additional parameters or verbs similarly marked br SMTP commands are case insensitive They are presented here in capitalized form for emphasis only An SMTP server that requires a specific capitalization method is a violation of the standard br br br BITMIME br At least the following servers advertise the BITMIME extension br br Apache James since a br Citadel since br Courier Mail Server br Gmail br IceWarp br IIS SMTP Service br Kerio Connect br Lotus Domino br Microsoft Exchange Server as of Exchange Server br Novell GroupWise br OpenSMTPD br Oracle Communications Messaging Server br Postfix br Sendmail since br The following servers can be configured to advertise BITMIME but do not perform conversion of bit data to bit when connecting to non BITMIME relays br br Exim and qmail do not translate eight bit messages to seven bit when making an attempt to relay bit data to non BITMIME peers as is required by the RFC This does not cause problems in practice since virtually all modern mail relays are bit clean br Microsoft Exchange Server advertises BITMIME by default but relaying to a non BITMIME peer results in a bounce This is allowed by RFC section br br br SMTP AUTH br br The SMTP AUTH extension provides an access control mechanism It consists of an authentication step through which the client effectively logs into the mail server during the process of sending mail Servers that support SMTP AUTH can usually be configured to require clients to use this extension ensuring the true identity of the sender is known The SMTP AUTH extension is defined in RFC br SMTP AUTH can be used to allow legitimate users to relay mail while denying relay service to unauthorized users such as spammers It does not necessarily guarantee the authenticity of either the SMTP envelope sender or the RFC From header For example spoofing in which one sender masquerades as someone else is still possible with SMTP AUTH unless the server is configured to limit message from addresses to addresses this AUTHed user is authorized for br The SMTP AUTH extension also allows one mail server to indicate to another that the sender has been authenticated when relaying mail In general this requires the recipient server to trust the sending server meaning that this aspect of SMTP AUTH is rarely used on the Internet br br br SMTPUTF br Supporting servers include br br Postfix version and later br Momentum versions and and later br Sendmail experimental support in br Exim experimental as of the release quite mature in br CommuniGate Pro as of version br Courier MTA as of version br Halon as of version br Microsoft Exchange Server as of protocol revision br Haraka and other servers br Oracle Communications Messaging Server as of release br br br Security extensions br Mail delivery can occur both over plain text and encrypted connections however the communicating parties might not know in advance of other party s ability to use secure channel br br br STARTTLS or Opportunistic TLS br br The STARTTLS extensions enables supporting SMTP servers to notify connecting clients that it supports TLS encrypted communication and offers the opportunity for clients to upgrade their connection by sending the STARTTLS command Servers supporting the extension do not inherently gain any security benefits from its implementation on its own as upgrading to a TLS encrypted session is dependent on the connecting client deciding to exercise this option hence the term opportunistic TLS br STARTTLS is effective only against passive observation attacks since the STARTTLS negotiation happens in plain text and an active attacker can trivially remove STARTTLS commands This type of man in the middle attack is sometimes referred to as STRIPTLS where the encryption negotiation information sent from one end never reaches the other In this scenario both parties take the invalid or unexpected responses as indication that the other does not properly support STARTTLS defaulting to traditional plain text mail transfer Note that STARTTLS is also defined for IMAP and POP in other RFCs but these protocols serve different purposes SMTP is used for communication between message transfer agents while IMAP and POP are for end clients and message transfer agents br In the Electronic Frontier Foundation began STARTTLS Everywhere project that similarly to HTTPS Everywhere list allowed relying parties to discover others supporting secure communication without prior communication The project stopped accepting submissions on April and EFF recommended switching to DANE and MTA STS for discovering information on peers TLS support br RFC officially declared plain text obsolete and recommend always using TLS for mail submission and access adding ports with implicit TLS br br br DANE for SMTP br RFC introduced the ability for DNS records to declare the encryption capabilities of a mail server Utilising DNSSEC mail server operators are able to publish a hash of their TLS certificate thereby mitigating the possibility of unencrypted communications br Microsoft expects to enable full SMTP DANE support for Exchange Online customers by the end of br br br SMTP MTA Strict Transport Security br A newer RFC called SMTP MTA Strict Transport Security MTA STS aims to address the problem of active adversaries by defining a protocol for mail servers to declare their ability to use secure channels in specific files on the server and specific DNS TXT records The relying party would regularly check existence of such record and cache it for the amount of time specified in the record and never communicate over insecure channels until record expires Note that MTA STS records apply only to SMTP traffic between mail servers while communications between a user s client and the mail server are protected by Transport Layer Security with SMTP MSA IMAP POP or HTTPS in combination with an organizational or technical policy Essentially MTA STS is a means to extend such a policy to third parties br In April Google Mail announced support for MTA STS br br br SMTP TLS Reporting br Protocols designed to securely deliver messages can fail due to misconfigurations or deliberate active interference leading to undelivered messages or delivery over unencrypted or unauthenticated channels RFC SMTP TLS Reporting describes a reporting mechanism and format for sharing statistics and specific information about potential failures with recipient domains Recipient domains can then use this information to both detect potential attacks and diagnose unintentional misconfigurations br In April Google Mail announced support for SMTP TLS Reporting br br br Spoofing and spamming br br The original design of SMTP had no facility to authenticate senders or check that servers were authorized to send on their behalf with the result that email spoofing is possible and commonly used in email spam and phishing br Occasional proposals are made to modify SMTP extensively or replace it completely One example of this is Internet Mail but neither it nor any other has made much headway in the face of the network effect of the huge installed base of classic SMTP br Instead mail servers now use a range of techniques such as stricter enforcement of standards such as RFC DomainKeys Identified Mail Sender Policy Framework and DMARC DNSBLs and greylisting to reject or quarantine suspicious emails br br br Implementations br br br Related requests for comments br RFC Requirements for Internet Hosts Application and Support STD br RFC SMTP Service Extension for Message Size Declaration bsoletes RFC br RFC Anti Spam Recommendations for SMTP MTAs BCP br RFC Simple Mail Transfer Protocol br RFC SMTP Service Extension for Command Pipelining STD br RFC SMTP Service Extensions for Transmission of Large and Binary MIME Messages br RFC SMTP Service Extension for Secure SMTP over Transport Layer Security obsoletes RFC br RFC SMTP Service Extension for Delivery Status Notifications obsoletes RFC br RFC Enhanced Status Codes for SMTP obsoletes RFC updated by RFC br RFC An Extensible Message Format for Delivery Status Notifications obsoletes RFC br RFC Message Disposition Notification updates RFC br RFC Recommendations for Automatic Responses to Electronic Mail br RFC SMTP Operational Experience in Mixed IPv v Environments br RFC Overview and Framework for Internationalized Email updated by RFC br RFC SMTP Service Extension for Authentication obsoletes RFC updates RFC updated by RFC br RFC Email Submission Operations Access and Accountability Requirements BCP br RFC A Registry for SMTP Enhanced Mail System Status Codes BCP updates RFC br RFC The Simple Mail Transfer Protocol obsoletes RFC aka STD RFC RFC RFC updates RFC br RFC Internet Message Format obsoletes RFC aka STD and RFC br RFC Downgrading Mechanism for Email Address Internationalization br RFC Message Submission for Mail STD obsoletes RFC RFC br RFC The Multipart Report Content Type for the Reporting of Mail System Administrative Messages obsoletes RFC and in turn RFC br RFC SMTP Extension for Internationalized Email Addresses updates RFC RFC RFC and RFC br RFC Cleartext Considered Obsolete Use of Transport Layer Security TLS for Email Submission and Access br br br See also br Bounce address br CRAM MD a SASL mechanism for ESMTPA RFC br Email br Email encryption br DKIM br Ident br List of mail server software br List of SMTP server return codes br POP before SMTP SMTP after POP br Internet Message Access Protocol Binary Content Extension RFC br Sender Policy Framework SPF br Simple Authentication and Security Layer SASL RFC br SMTP Authentication br Variable envelope return path br Comparison of email clients for information about SMTP support br br br Notes br br br br Hughes L Internet E mail Protocols Standards and Implementation Artech House Publishers ISBN br Hunt C sendmail Cookbook O Reilly Media ISBN br Johnson K Internet Email Protocols A Developer s Guide Addison Wesley Professional ISBN br Loshin P Essential Email Standards RFCs and Protocols Made Practical John Wiley Sons ISBN br Rhoton J Programmer s Guide to Internet Mail SMTP POP IMAP and LDAP Elsevier ISBN br Wood D Programming Internet Mail O Reilly ISBN br br br External links br RFC SMTP Service Extensions br RFC Simple Mail Transfer Protocol br RFC SMTP Service Extension for Authentication obsoletes RFC br RFC SMTP and LMTP Transmission Types Registration with ESMTPA br RFC Message Submission for Mail obsoletes RFC which obsoletes RFC 