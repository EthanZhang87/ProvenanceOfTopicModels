title: STL (file format)
id: 2387565
STL is a file format native to the stereolithography CAD software created by D Systems Chuck Hull the inventor of stereolithography and D Systems founder reports that the file extension is an abbreviation for stereolithography br An STL file describes a raw unstructured triangulated surface by the unit normal and vertices ordered by the right hand rule of the triangles using a three dimensional Cartesian coordinate system In the original specification all STL coordinates were required to be positive numbers but this restriction is no longer enforced and negative coordinates are commonly encountered in STL files today STL files contain no scale information and the units are arbitrary STL files describe only the surface geometry of a three dimensional object without any representation of color texture or other common CAD model attributes The STL format specifies both ASCII and binary representations Binary files are more common since they are more compact br STL is widely used for rapid prototyping D printing and computer aided manufacturing and supported by many other software packages br br br History br STL was invented by the Albert Consulting Group for D Systems in The format was developed for D Systems first commercial D printers Since its initial release the format remained relatively unchanged for years br In an update to the format dubbed STL was proposed which evolved into the Additive manufacturing file format br br br Format br br br ASCII br An ASCII STL file begins with the line br br solid name br br where name is an optional string though if name is omitted there must still be a space after solid for compatibility with some software The remainder of the line is ignored and is sometimes used to store metadata e g filename author modification date etc The file continues with any number of triangles each represented as follows br br facet normal ni nj nk br outer loop br vertex v x v y v z br vertex v x v y v z br vertex v x v y v z br endloop br endfacet br br where each n or v is a floating point number in sign mantissa e sign exponent format e g e The file concludes with br br endsolid name br br The structure of the format suggests that other possibilities exist e g facets with more than one loop or loops with more than three vertices In practice however all facets are simple triangles br Whitespace spaces tabs newlines may be used anywhere in the file except within numbers or words The spaces between facet and normal and between outer and loop are required br br br Binary br Because ASCII STL files can be very large a binary version of STL exists A binary STL file has an character header which is generally ignored but should never begin with the ASCII representation of the string solid as that may lead some software to confuse it with an ASCII STL file Following the header is a byte little endian unsigned integer indicating the number of triangular facets in the file Following that is data describing each triangle in turn The file simply ends after the last triangle br Each triangle is described by bit floating point numbers for the normal and then for the X Y Z coordinate of each vertex just as with the ASCII version of STL After these follows a byte short unsigned integer that is the attribute byte count in the standard format this should be zero because most software does not understand anything else br Floating point numbers are represented as IEEE floating point numbers and are assumed to be little endian although this is not stated in documentation br br UINT Header bytes br UINT Number of triangles bytes br br foreach triangle bytes br REAL Normal vector bytes br REAL Vertex bytes br REAL Vertex bytes br REAL Vertex bytes br UINT Attribute byte count bytes br end br br There are at least two non standard variations on the binary STL format for adding color information br br The VisCAM and SolidView software packages use the two attribute byte count bytes at the end of every triangle to store a bit RGB color br bits are the intensity level for blue br bits are the intensity level for green br bits are the intensity level for red br bit is if the color is valid or if the color is not valid as with normal STL files br The Materialise Magics software uses the byte header at the top of the file to represent the overall color of the entire part If color is used then somewhere in the header should be the ASCII string COLOR followed by four bytes representing red green blue and alpha channel transparency in the range This is the color of the entire object unless overridden at each facet Magics also recognizes a material description a more detailed surface characteristic Just after COLOR RGBA specification should be another ASCII string MATERIAL followed by three colors bytes first is a color of diffuse reflection second is a color of specular highlight and third is an ambient light Material settings are preferred over color The per facet color is represented in the two attribute byte count bytes as follows br bits are the intensity level for red br bits are the intensity level for green br bits are the intensity level for blue br bit is if this facet has its own unique color or if the per object color is to be used br The red green blue ordering within those two bytes is reversed in these two approaches so while these formats could easily have been compatible the reversal of the order of the colors means that they are not and worse still a generic STL file reader cannot automatically distinguish between them There is also no way to have facets be selectively transparent because there is no per facet alpha value although in the context of current rapid prototyping machinery this is not important br br br Facet normal br In both ASCII and binary versions of STL the facet normal should be a unit vector pointing outwards from the solid object In most software this may be set to and the software will automatically calculate a normal based on the order of the triangle vertices using the right hand rule i e the vertices are listed in counter clock wise order from outside Some STL loaders e g the STL plugin for Art of Illusion check that the normal in the file agrees with the normal they calculate using the right hand rule and warn the user when it does not Other software may ignore the facet normal entirely and use only the right hand rule Although it is rare to specify a normal that cannot be calculated using the right hand rule in order to be entirely portable a file should both provide the facet normal and order the vertices appropriately A notable exception is SolidWorks which uses the normal for shading effects br br br Characteristics br It is not possible to use triangles to perfectly represent curved surfaces To compensate users often save enormous STL files to reduce the inaccuracy However native formats associated with many D design applications use mathematical surfaces to preserve detail losslessly in small files For example Rhino D and Blender implement NURBS to create true curved surfaces and store them in their respective native file formats but must generate a triangle mesh when exporting a model to the STL format br br br D printing br br D printers build objects by solidifying SLA SLS SHS DMLS EBM DLP or printing DP MJM FDM FFF PJP MJS one layer at a time This requires a series of closed D contours horizontal layers that are filled in with solidified material as the layers are fused together A natural file format for such a machine would be a series of closed polygons layers or slices corresponding to different Z values However since it is possible to vary the layer thicknesses for a faster though less precise build it was easier to define the model to be built as a closed polyhedron that can be sliced at the necessary horizontal levels An incorrect facet normal can affect the way a file is sliced and filled A slice at a different Z value can be chosen to miss a bad facet or the file must be returned to CAD program to make corrections and then regenerate the STL file br To properly form a D volume the surface represented by any STL files must be closed no holes or reversed vector normal and connected where every edge is part of exactly two triangles and not self intersecting Since the STL syntax does not enforce this property it can be ignored for applications where the void does not matter The missing surface only matters insofar as the software that slices the triangles requires it to ensure that the resulting D polygons are closed Sometimes such software can be written to clean up small discrepancies by moving vertices that are close together so that they coincide The results are not predictable and may require repair using another program Vector D printers require a clean STL file and printing a bad data file will either fail to fill or may stop printing br br br Other fields br br STL is simple and easy to output Consequently many computer aided design systems can output the STL file format Although the output is simple to produce mesh connectivity information is discarded because the identity of shared vertices is lost br Many computer aided manufacturing systems require triangulated models STL format is not the most memory and computationally efficient method for transferring this data but STL is often used to import the triangulated geometry into the CAM system The format is commonly available so the CAM system will use it In order to use the data the CAM system may have to reconstruct the connectivity As STL files do not save the physical dimension of a unit a CAM system will ask for it Typical units are mm and inch br STL can also be used for interchanging data between CAD CAM systems and computational environments such as Mathematica br br br See also br D Manufacturing Format Open source file format standard br Additive Manufacturing File Format Open standard for describing objects for additive manufacturing processes such as D printingPages displaying short descriptions of redirect targets br PLY file format File format designed to store three dimensional data from D scanners br Voxel Element representing a value on a grid in three dimensional space br Wavefront obj file Geometry definition file format br X D XML based file format for D computer graphics br br br br br br External links br The STL Format br ASCII stereolithography files