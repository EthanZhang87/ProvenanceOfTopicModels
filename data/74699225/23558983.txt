title: HTTP Live Streaming
id: 23558983
HTTP Live Streaming also known as HLS is an HTTP based adaptive bitrate streaming communications protocol developed by Apple Inc and released in Support for the protocol is widespread in media players web browsers mobile devices and streaming media servers As of an annual video industry survey has consistently found it to be the most popular streaming format br HLS resembles MPEG DASH in that it works by breaking the overall stream into a sequence of small HTTP based file downloads each downloading one short chunk of an overall potentially unbounded transport stream A list of available streams encoded at different bit rates is sent to the client using an extended M U playlist br Based on standard HTTP transactions HTTP Live Streaming can traverse any firewall or proxy server that lets through standard HTTP traffic unlike UDP based protocols such as RTP This also allows content to be offered from conventional HTTP servers and delivered over widely available HTTP based content delivery networks The standard also includes a standard encryption mechanism and secure key distribution using HTTPS which together provide a simple DRM system Later versions of the protocol also provide for trick mode fast forward and rewind and for integration of subtitles br Apple has documented HTTP Live Streaming as an Internet Draft Individual Submission the first stage in the process of publishing it as a Request for Comments RFC As of December the authors of that document have requested the RFC Independent Stream Editor ISE to publish the document as an informational non standard RFC outside of the IETF consensus process br In August RFC was published to describe version of the protocol br br br Architecture br HTTP Live Streaming uses a conventional web server that implements support for HTTP Live Streaming HLS to distribute audiovisual content and requires specific software such as OBS to fit the content into a proper format codec for transmission in real time over a network br The service architecture comprises br br Server br Codify and encapsulate the input video flow in a proper format for the delivery Then it is prepared for distribution by segmenting it into different files In the process of intake the video is encoded and segmented to generate video fragments and index file br Encoder codify video files in H format and audio in AAC MP AC or EC This is encapsulated by MPEG Transport Stream or MPEG Part to carry it br Segmenter divides the stream into fragments of equal length It also creates an index file that contains references of the fragmented files saved as m u br Distributor br Formed by a standard web server accepts requests from clients and delivers all the resources m u playlist file and ts segment files needed for streaming br Client br Request and download all the files and resources assembling them so that they can be presented to the user as a continuous flow video The client software downloads first the index file through a URL and then the several media files available The playback software assembles the sequence to allow continued display to the user br br br Features br HTTP Live Streaming provides mechanisms for players to adapt to unreliable network conditions without causing user visible playback stalling For example on an unreliable wireless network HLS allows the player to use a lower quality video thus reducing bandwidth usage HLS videos can be made highly available by providing multiple servers for the same video allowing the player to swap seamlessly if one of the servers fails br br br Adaptability br To enable a player to adapt to the bandwidth of the network the original video is encoded in several distinct quality levels The server serves an index called a master playlist of these encodings called variant streams The player can then choose between the variant streams during playback changing back and forth seamlessly as network conditions change br br br Using fragmented MP br At WWDC Apple announced the inclusion of byte range addressing for fragmented MP files or fMP allowing content to be played via HLS without the need to multiplex it into MPEG Transport Stream The industry considered this as a step towards compatibility between HLS and MPEG DASH br br br Low Latency HLS br Two unrelated HLS extensions with a Low Latency name and corresponding acronym exist br br Apple Low Latency HLS ALHLS which was announced by Apple at WWDC br Community LHLS LHLS which predated Apple s publication and is allegedly simpler br The remainder of this section describes Apple s ALHLS It reduces the glass to glass delay when streaming via HLS by reducing the time to start live stream playbacks and maintain that time during a live streaming event br It works by adding partial media segment files into the mix much like MPEG CMAF s fMP Unlike CMAF ALHLS also supports partial MPEG TS transport files A partial media segment is a standard segment e g seconds split into equal segments of less than a second e g milliseconds The standard first segment is replaced by the series of partial segments Subsequent segments are of the standard size br HTTP is required to push the segments along with the playlist reducing the overhead of establishing repeated HTTP TCP connections br Other features include br br Playlist Delta Updates only sending what changed between playlist which typically fit in single MTU making it more efficient to load the playlists which with large DVR windows can be quite large br Blocking of playlist reload when requesting live media playlists wait until the first segment is also ready and return both at same time saving additional HTTP TCP requests br Rendition Reports add metadata to other media renditions to make switching between ABR faster br New tags added EXT X SERVER CONTROL EXT X PART EXT X SKIP EXT X RENDITION REPORT br URL QUERY STRING HLS callbacks added br Apple also added new tools tsrecompressor produces and encodes a continuous low latency stream of audio and video The mediastreamsegmenter tool is now available in a low latency version It is an HLS segmenter that takes in a UDP MPEG TS stream from tsrecompressor and generates a media playlist including the new tags above br Support for low latency HLS is available in tvOS beta and iOS iPadOS br On April Apple added the low latency specifications to the second edition of the main HLS specification br br br Dynamic ad insertion br Dynamic ad insertion is supported in HLS using splice information based on SCTE specification The SCTE splice message is inserted on the media playlist file using the EXT X DATERANGE tag Each SCTE splice info section is represented by an EXT X DATERANGE tag with a SCTE CMD attribute A SCTE splice out in pair signaled by the splice insert commands are represented by one or more EXT X DATERANGE tags carrying the same ID attribute The SCTE splice out command should have the SCTE OUT attribute and the splice in command should have the SCTE IN attribute br Between the two EXT X DATERANGE tags that contain the SCTE OUT and SCTE IN attributes respectively there may be a sequence of media segment URIs These media segments normally represent ad programs which can be replaced by the local or customized ad The ad replacement does not require the replacement of the media files only the URIs in the playlist need to be changed to point different ad programs The ad replacement can be done on the origin server or on the client s media playing device br br br Server implementations br Notable server implementations supporting HTTP Live Streaming include br br Adobe Media Server supports HLS for iOS devices HLS and Protected HTTP Live Streaming PHLS br Akamai supports HLS for live and on demand streams br AT T supports HLS in all formats live or on demand br Axis Communication IP cameras supports HLS via CamStreamer App ACAP br Instart supports HLS for on demand streams br Amazon CloudFront supports HLS for on demand streams br Bitmovin supports HLS for on demand and live streaming br CDNetworks supports HLS for live and on demand streams br Cisco Systems supports full end to end delivery for Live TSTV VOD HLS and Cloud DVR services br Cloudflare supports HLS for live and on demand streams br EdgeCast Networks supports cross device streaming using HLS br Fastly supports HLS for live and on demand streams br Helix Universal Server from RealNetworks supports iPhone OS and later for live and on demand HTTP Live or On Demand streaming of H and AAC content to iPhone iPad and iPod br IIS Media Services from Microsoft supports live and on demand Smooth Streaming and HTTP Live Streaming br Level supports HLS live and on demand streams br Limelight Networks supports HLS for some accounts br Nginx with the nginx rtmp module supports HLS in live mode Commercial version Nginx Plus which includes ngx http hls module module also supports HLS HDS VOD br Nimble Streamer supports HLS in live and VOD mode Apple Low Latency HLS spec is also supported br Node js with the hls server package supports hls encoding to live mode and local files conversion br Storm Streaming Server supports HLS as backup mode for its Media Source Extensions player br Tata Communications CDN supports HLS for live and on demand streams br TVersity supports HLS in conjunction with on the fly transcoding for playback of any video content on iOS devices br Unreal Media Server supports low latency HLS as of version br Ustream supports HLS delivery of live broadcasts The ingested stream is re transcoded if the original audio and video codec falls outside HLS requirements br VLC Media Player supports HLS for serving live and on demand streams as of version br Wowza Streaming Engine from Wowza Media Systems supports HLS and encrypted HLS for live with DVR on demand streaming and Apple Low Latency HLS spec br br br Usage br Google added HTTP Live Streaming support in Android Honeycomb br HP added HTTP Live Streaming support in webOS br Microsoft added support for HTTP Live Streaming in EdgeHTML rendering engine in Windows in br Microsoft added support for HTTP Live Streaming in IIS Media Services br Yospace added HTTP Live Streaming support in Yospace HLS Player and SDK for flash version br Sling Media added HTTP Live Streaming support to its Slingboxes and its SlingPlayer apps br In the BBC introduced HLS AAC streams for its live internet radio and on demand audio services and supports those streams with its iPlayer Radio clients br Twitch uses HTTP Live Streaming HLS to transmit and scale the live streaming to many concurrent viewers also supporting multiple variants e g p p etc br br br Supported players and servers br br HTTP Live Streaming is natively supported in the following operating systems br br Windows version to Microsoft Edge Legacy no longer supported br Windows Media Player br macOS Safari and QuickTime br iOS Safari br Android Google Chrome br Windows used to have native support for HTTP Live Streaming in EdgeHTML a proprietary browser engine that was used in Microsoft Edge now referred to as Edge Legacy before the transition to the Chromium based Blink browser engine Edge Legacy was included in Windows up till version It was replaced by Edge Chromium in version H Along with Windows Microsoft released an updated Media Player that supports HLS natively br br br Clients br br br Servers br br br Live Encoders br br br VOD encoders br br br See also br Adaptive bitrate streaming br Dynamic Adaptive Streaming over HTTP br br br 