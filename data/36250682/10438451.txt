title: Apache Thrift
id: 10438451
Thrift is an IDL Interface Definition Language and binary communication protocol used for defining and creating services for programming languages It was developed by Facebook Since it is an open source project in the Apache Software Foundation br It uses a remote procedure call RPC framework and combines a software stack with a code generation engine to build cross platform services Thrift can connect applications written in a variety of languages and frameworks including ActionScript C C C Cocoa Delphi Erlang Go Haskell Java JavaScript Objective C OCaml Perl PHP Python Ruby Elixir Rust Scala Smalltalk and Swift The implementation was described in an April technical paper released by Facebook now hosted on Apache br br br Architecture br br Thrift includes a complete stack for creating clients and servers The top part is generated code from the Thrift definition From this file the services generate client and processor codes In contrast to built in types created data structures are sent as a result of generated code The protocol and transport layer are part of the runtime library With Thrift it is possible to define a service and change the protocol and transport without recompiling the code Besides the client part Thrift includes server infrastructure such as blocking non blocking and multi threaded servers The underlying I O part of the stack is implemented differently for different programming languages br Thrift supports a number of protocols br br TBinaryProtocol A binary format not optimized for space efficiency Faster to process than the text protocol br TCompactProtocol More compact binary format br TJSONProtocol Uses JSON for the encoding of data br TSimpleJSONProtocol A write only protocol that cannot be parsed by Thrift because it drops metadata using JSON Suitable for parsing by scripting languages br The supported transports are br br TSimpleFileTransport This transport writes to a file br TFramedTransport This transport is required when using a non blocking server It sends data in frames each preceded by length information br TMemoryTransport Uses memory for I O The Java implementation uses a simple ByteArrayOutputStream internally br TSocket Uses blocking socket I O for transport br TZlibTransport Performs compression using zlib Used in conjunction with another transport br Thrift also provides a number of servers which are br br TNonblockingServer A multi threaded server using non blocking I O Java implementation uses NIO channels TFramedTransport must be used with this server br TSimpleServer A single threaded server using standard blocking I O br TThreadedServer A multi threaded server using a thread per connection model and standard blocking I O br TThreadPoolServer A multi threaded server using a thread pool and standard blocking I O br Thrift is written in C but can create code for some other programming languages To create a Thrift service one has to write Thrift files that describe it generate the code in the destination language write some code to start the server and call it from the client An example of such a description file br br Thrift will generate the code out of this descriptive information For instance in Java the PhoneType will be enum inside the Phone class br br br See also br br br br br br External links br Official website