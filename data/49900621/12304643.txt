title: Mac OS nanokernel
id: 12304643
The Mac OS nanokernel is an operating system kernel that serves as the basis of most PowerPC based system software versions through of the classic Mac OS predating Mac OS X br The initial revision of this software is a single tasking system which delegates most tasks to an emulator running the Motorola series K version of the operating system The second major revision supports multitasking multiprocessing and message passing and would be more properly called a microkernel Unlike the K derived Mac OS kernel running within it the PowerPC kernel exists in a protected memory space and executes device drivers in user mode br The nanokernel is very different from the Copland OS microkernel although they were created in succession with similar goals br br br System Mac OS br The original nanokernel and the tightly integrated Mac k emulator were written by emulation consultant Gary Davidian Its main purpose is to allow the existing Motorola K version of the operating system to run on new hardware As such the normal state of the system is to be running K code The operating system does little until activated by an interrupt which is quickly mapped to its K equivalent within the virtual machine br Other tasks may include switching back to PowerPC mode if necessary upon completion of the interrupt handler and mapping the Macintosh virtual memory system to the PowerPC hardware However as the software is little documented these might instead be handled by the emulator running in user mode br This nanokernel is stored on the Mac OS ROM chip integrated into Old World ROM computers or inside the Mac OS ROM file on disk on the New World ROM computers rather than being installed in the familiar sense br br br Interim development br Progress after demanded additional functionality A forward looking architecture was introduced for PCI card drivers in anticipation of the Copland microkernel called NuKernel which supports memory protection The Open Transport networking architecture introduced standardized PowerPC synchronization primitives The DayStar Digital Genesis MP Macintosh clone requires kernel extensions to support multiprocessing This evolution would later affect the overhaul to the nanokernel in Mac OS br br br Mac OS and later br Mac OS s nanokernel was rewritten by Ren A Vega to add Multiprocessing Services support PowerMacInfo distributed in the Multiprocessing SDK is an application that displays statistics about the nanokernel s operation br br br br br br External links br Ren A Vega s explanation of basic Mac OS architecture br supervisor mode br Question from a non programmer