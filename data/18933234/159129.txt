title: Working directory
id: 159129
In computing the working directory of a process is a directory of a hierarchical file system if any dynamically associated with the process It is sometimes called the current working directory CWD e g the BSD getcwd function or just current directory When a process refers to a file using a simple file name or relative path as opposed to a file designated by a full path from a root directory the reference is interpreted relative to the working directory of the process So for example a process with working directory rabbit shoes that asks to create the file foo txt will end up creating the file rabbit shoes foo txt br br br In operating systems br br In most computer file systems every directory has an entry usually named which points to the directory itself br In most DOS and UNIX command shells as well as in the Microsoft Windows command line interpreters cmd exe and Windows PowerShell the working directory can be changed by using the CD or CHDIR commands In Unix shells the pwd command outputs a full pathname of the working directory the equivalent command in DOS and Windows is CD or CHDIR without arguments whereas in Unix cd used without arguments takes the user back to their home directory br The environment variable PWD in Unix Linux shells or the pseudo environment variables CD in Windows COMMAND COM and cmd exe but not in OS and DOS or CWD CWDS CWP and CWPS under DOS OS NT etc can be used in scripts so that one need not start an external program Microsoft Windows file shortcuts have the ability to store the working directory br COMMAND COM in DR DOS and higher provides ECHOS a variant of the ECHO command omitting the terminating linefeed This can be used to create a temporary batchjob storing the working directory in an environment variable like CD for later use for example br br ECHOS SET CD SETCD BAT br CHDIR SETCD BAT br CALL SETCD BAT br DEL SETCD BAT br br Alternatively under Multiuser DOS and DR DOS and higher various internal and external commands support a parameter B for Batch This modifies the output of commands to become suitable for direct command line input when redirecting it into a batch file or usage as a parameter for other commands using it as input for another command Where CHDIR would issue a directory path like C DOS a command like CHDIR B would issue CHDIR C DOS instead so that CHDIR B RETDIR BAT would create a temporary batchjob allowing to return to this directory later on br The working directory is also displayed by the P token of the PROMPT command To keep the prompt short even inside of deep subdirectory structures the DR DOS COMMAND COM supports a W token to display only the deepest subdirectory level So where a default PROMPT P G would result f e in C DOS or C DOS DRDOS a PROMPT N W G would instead yield C DOS and C DRDOS respectively A similar facility using W and w was added to DOS as well br Under DOS the absolute paths of the working directories of all logical volumes are internally stored in an array like data structure called the Current Directory Structure CDS which gets dynamically allocated at boot time to hold the necessary number of slots for all logical drives or as defined by LASTDRIVE This structure imposes a length limit of characters on the full path of each working directory and thus implicitly also limits the maximum possible depth of subdirectories br DOS Plus and older issues of DR DOS up to DR DOS with BDOS in had no such limitation due to their implementation using a DOS emulation on top of a Concurrent DOS and thus CP M derived kernel which internally organized subdirectories as relative links to parent directories instead of as absolute paths Since PalmDOS with BDOS and DR DOS update with BDOS and higher switched to use a CDS for maximum compatibility with DOS programs as well they faced the same limitations as present in other DOSes br br br In programming languages br Most programming languages provide an interface to the file system functions of the operating system including the ability to set change the working directory of the program br In the C language the POSIX function chdir effects the system call which changes the working directory Its argument is a text string with a path to the new directory either absolute or relative to the old one Where available it can be called by a process to set its working directory br There are similar functions in other languages For example in Visual Basic it is usually spelled CHDIR br In Java the working directory can be obtained through the java nio file Path interface or through the java io File class The working directory cannot be changed br br br See also br Home directory br Root directory br Directory br chroot Linux systems br Load drive a different but related concept br Long filename LFN br br br Notes br br br br br br Further reading br Chen Raymond Why does each drive have its own current directory The New Old Thing Microsoft Archived from the original on Retrieved br Chen Raymond What are these strange C environment variables The New Old Thing Microsoft Archived from the original on Retrieved br br br External links br Working Directory wd at Github a software package that tracks commonly used directories in a bash session