title: Ed (software)
id: 9771
ed pronounced as distinct letters is a line editor for Unix and Unix like operating systems It was one of the first parts of the Unix operating system that was developed in August It remains part of the POSIX and Open Group standards for Unix based operating systems alongside the more sophisticated full screen editor vi br br br History and influence br The ed text editor was one of the first three key elements of the Unix operating system assembler editor and shell developed by Ken Thompson in August on a PDP at AT T Bell Labs Many features of ed came from the qed text editor developed at Thompson s alma mater University of California Berkeley Thompson was very familiar with qed and had reimplemented it on the CTSS and Multics systems Thompson s versions of qed were notable as the first to implement regular expressions Regular expressions are also implemented in ed though their implementation is considerably less general than that in qed br Dennis M Ritchie produced what Doug McIlroy later described as the definitive ed and aspects of ed went on to influence ex which in turn spawned vi The non interactive Unix command grep was inspired by a common special use of qed and later ed where the command g re p performs a global regular expression search and prints the lines containing matches The Unix stream editor sed implemented many of the scripting features of qed that were not supported by ed on Unix br br br Features br Features of ed include br br available on essentially all Unix systems and mandatory on systems conforming to the Single Unix Specification br support for regular expressions br powerful automation can be achieved by feeding commands from standard input br In famous for its terseness ed compatible with teletype terminals like Teletype Model gives almost no visual feedback and has been called by Peter H Salus the most user hostile editor ever created even when compared to the contemporary and notoriously complex TECO For example the message that ed will produce in case of error and when it wants to make sure the user wishes to quit without saving is It does not report the current filename or line number or even display the results of a change to the text unless requested Older versions c did not even ask for confirmation when a quit command was issued without the user saving changes This terseness was appropriate in the early versions of Unix when consoles were teletypes modems were slow and memory was precious As computer technology improved and these constraints were loosened editors with more visual feedback became the norm br br In current practice ed is rarely used interactively but does find use in some shell scripts For interactive use ed was subsumed by the sam vi and Emacs editors in the s ed can be found on virtually every version of Unix and Linux available and as such is useful for people who have to work with multiple versions of Unix On Unix based operating systems some utilities like SQL Plus run ed as the editor if the EDITOR and VISUAL environment variables are not defined If something goes wrong ed is sometimes the only editor available This is often the only time when it is used interactively br The version of ed provided by GNU has a few switches to enhance the feedback Using ed v p provides a simple prompt and enables more useful feedback messages The p switch is defined in POSIX since XPG br The ed commands are often imitated in other line based editors For example EDLIN in early MS DOS versions and bit versions of Windows NT has a somewhat similar syntax and text editors in many MUDs LPMud and descendants for example use ed like syntax These editors however are typically more limited in function br br br Example br Here is an example transcript of an ed session For clarity commands and text typed by the user are in normal face and output from ed is emphasized br br a br ed is the standard Unix text editor br This is line number two br br i br br br l br ed is the standard Unix text editor br br This is line number two br w text br br s two three br l br ed is the standard Unix text editor br br This is line number three br w text br br q br br The end result is a simple text file containing the following text br br ed is the standard Unix text editor br br This is line number three br br Started with an empty file the a command appends text all ed commands are single letters The command puts ed in insert mode inserting the characters that follow and is terminated by a single dot on a line The two lines that are entered before the dot end up in the file buffer The i command also goes into insert mode and will insert the entered text a single empty line in our case before line two All commands may be prefixed by a line number to operate on that line br In the line l the lowercase L stands for the list command The command is prefixed by a range in this case which is a shortcut for A range is two line numbers separated by a comma means the last line In return ed lists all lines from first to last These lines are ended with dollar signs so that white space at the end of lines is clearly visible br Once the empty line is inserted in line the line which reads This is line number two is now actually the third line This error is corrected with s two three a substitution command The will apply it to the correct line following the command is the text to be replaced and then the replacement Listing all lines with l the line is shown now to be correct br w text writes the buffer to the file text making ed respond with the number of characters written to the file q will end an ed session br br br Cultural references br The GNU Project has numerous jokes around ed hosted on its website In addition the glibc documentation notes an error code called ED with its description errorstr merely a single question mark noting the experienced user will know what is wrong br br br See also br Edlin the standard MS DOS line editor which was inspired by ed br Sam text editor br Editor war br List of Unix commands br br br br br br External links br br ed edit text Shell and Utilities Reference The Single UNIX Specification Version from The Open Group br Manual page from Unix First Edition describing ed br ed text editor Version Unix Programmer s Manual br ed text editor Plan Programmer s Manual Volume a direct descendant of the original ed br GNU ed homepage br A History of UNIX before Berkeley section describes the history of ed 