title: CP/M
id: 45146
CP M originally standing for Control Program Monitor and later Control Program for Microcomputers is a mass market operating system created in for Intel based microcomputers by Gary Kildall of Digital Research Inc CP M is a disk operating system and its purpose is to organize files on a magnetic storage medium and to load and run programs stored on a disk Initially confined to single tasking on bit processors and no more than kilobytes of memory later versions of CP M added multi user variations and were migrated to bit processors br The combination of CP M and S bus computers became an early standard in the microcomputer industry This computer platform was widely used in business through the late s and into the mid s CP M increased the market size for both hardware and software by greatly reducing the amount of programming required to port an application to a new manufacturer s computer An important driver of software innovation was the advent of comparatively low cost microcomputers running CP M as independent programmers and hackers bought them and shared their creations in user groups CP M was eventually displaced by DOS following the introduction of the IBM PC br br br History br br br Early history br Gary Kildall originally developed CP M during as an operating system to run on an Intel Intellec development system equipped with a Shugart Associates inch floppy disk drive interfaced via a custom floppy disk controller It was written in Kildall s own PL M Programming Language for Microcomputers Various aspects of CP M were influenced by the TOPS operating system of the DECsystem mainframe computer which Kildall had used as a development environment An early outside licensee of CP M was Gnat Computers an early microcomputer developer out of San Diego California In the company was granted the license to use CP M for any micro they desired for Within the year demand for CP M was so high that Digital Research was able to increase the license to tens of thousands of dollars br Under Kildall s direction the development of CP M was mostly carried out by John Pierce in Kathryn Strutynski a friend of Kildall from Naval Postgraduate School NPS became the fourth employee of Digital Research Inc in early She started by debugging CP M and later became influential as key developer for CP M and CP M Plus Other early developers of the CP M base included Robert Bob Silberstein and David Dave K Brown br CP M originally stood for Control Program Monitor a name which implies a resident monitor a primitive precursor to the operating system However during the conversion of CP M to a commercial product trademark registration documents filed in November gave the product s name as Control Program for Microcomputers The CP M name follows a prevailing naming scheme of the time as in Kildall s PL M language and Prime Computer s PL P Programming Language for Prime both suggesting IBM s PL I and IBM s CP CMS operating system which Kildall had used when working at the NPS This renaming of CP M was part of a larger effort by Kildall and his wife with business partner Dorothy McEwen to convert Kildall s personal project of CP M and the Intel contracted PL M compiler into a commercial enterprise The Kildalls intended to establish the Digital Research brand and its product lines as synonymous with microcomputer in the consumer s mind similar to what IBM and Microsoft together later successfully accomplished in making personal computer synonymous with their product offerings Intergalactic Digital Research Inc was later renamed via a corporation change of name filing to Digital Research Inc br br br Initial success br br By September Digital Research had sold more than CP M licenses InfoWorld stated that the actual market was likely larger because of sublicenses Many different companies produced CP M based computers for many different markets the magazine stated that CP M is well on its way to establishing itself as the small computer operating system br The companies chose to support CP M because of its large library of software The Xerox ran the operating system because where there are literally thousands of programs written for it it would be unwise not to take advantage of it Xerox said Xerox included a Howard W Sams CP M manual as compensation for Digital Research s documentation which InfoWorld in described as atrocious By Columbia University used the same source code to build Kermit binaries for more than a dozen different CP M systems plus a generic version The operating system was described as a software bus allowing multiple programs to interact with different hardware in a standardized way Programs written for CP M were typically portable among different machines usually requiring only the specification of the escape sequences for control of the screen and printer This portability made CP M popular and much more software was written for CP M than for operating systems that ran on only one brand of hardware One restriction on portability was that certain programs used the extended instruction set of the Z processor and would not operate on an or processor Another was graphics routines especially in games and graphics programs which were generally machine specific as they used direct hardware access for speed bypassing the OS and BIOS this was also a common problem in early DOS machines br Bill Gates claimed that the Apple II with a Z SoftCard was the single most popular CP M hardware platform Many different brands of machines ran the operating system some notable examples being the Altair the IMSAI the Osborne and Kaypro luggables and MSX computers The best selling CP M capable system of all time was probably the Amstrad PCW In the UK CP M was also available on Research Machines educational computers with the CP M source code published as an educational resource and for the BBC Micro when equipped with a Z co processor Furthermore it was available for the Amstrad CPC series the Commodore TRS and later models of the ZX Spectrum CP M was also used on the NIAT a custom handheld computer designed for A C Nielsen s internal use with MB of SSD memory br br br Multi user br br In a multi user compatible derivative of CP M was released MP M allowed multiple users to connect to a single computer using multiple terminals to provide each user with a screen and keyboard Later versions ran on bit processors br br br CP M Plus br br The last bit version of CP M was version often called CP M Plus released in Its BDOS was designed by Brown It incorporated the bank switching memory management of MP M in a single user single task operating system compatible with CP M applications CP M could therefore use more than KB of memory on an or Z processor The system could be configured to support date stamping of files The operating system distribution software also included a relocating assembler and linker CP M was available for the last generation of bit computers notably the Amstrad PCW the Amstrad CPC the ZX Spectrum the Commodore MSX machines and the Radio Shack TRS Model br br br bit versions br br There were versions of CP M for some bit CPUs as well br The first version in the bit family was CP M for the Intel in November Kathryn Strutynski was the project manager for the evolving CP M line of operating systems At this point the original bit CP M became known by the retronym CP M to avoid confusion br CP M was expected to be the standard operating system of the new IBM PCs but DRI and IBM were unable to negotiate development and licensing terms IBM turned to Microsoft instead and Microsoft delivered PC DOS based on DOS Although CP M became an option for the IBM PC after DRI threatened legal action it never overtook Microsoft s system Most customers were repelled by the significantly greater price IBM charged for CP M over PC DOS US and US respectively br When Digital Equipment Corporation DEC put out the Rainbow to compete with IBM it came with CP M using a Z chip CP M or MS DOS using an microprocessor or CP M using both The Z and CPUs ran concurrently A benefit of the Rainbow was that it could continue to run bit CP M software preserving a user s possibly sizable investment as they moved into the bit world of MS DOS A similar dual processor adaption for the CompuPro System was named CP M The CP M adaptation for the based Zenith Z also supported running programs for both of its CPUs br Soon following CP M another bit version of CP M was CP M K for the Motorola The original version of CP M K in was written in Pascal MT k but it was ported to C later on CP M K already running on the Motorola EXORmacs systems was initially to be used in the Atari ST computer but Atari decided to go with a newer disk operating system called GEMDOS CP M K was also used on the SORD M and M MX computers br In there was also a port from CP M K to the bit Zilog Z for the Olivetti M written in C named CP M br These bit versions of CP M required application programs to be re compiled for the new CPUs Some programs written in assembly language could be automatically translated for a new processor One tool for this was Digital Research s XLT which translated ASM source code for the Intel processor into A source code for the Intel The translator would also optimize the output for code size and take care of calling conventions so that CP M and MP M programs could be ported to the CP M and MP M platforms automatically XLT itself was written in PL I and was available for CP M platforms as well as for VAX VMS br br br Displacement by MS DOS br Many expected that CP M would be the standard operating system for bit computers In IBM approached Digital Research at Bill Gates suggestion to license a forthcoming version of CP M for its new product the IBM Personal Computer Upon the failure to obtain a signed non disclosure agreement the talks failed and IBM instead contracted with Microsoft to provide an operating system The resulting product MS DOS soon began outselling CP M br Many of the basic concepts and mechanisms of early versions of MS DOS resembled those of CP M Internals like file handling data structures were identical and both referred to disk drives with a letter A B etc MS DOS s main innovation was its FAT file system This similarity made it easier to port popular CP M software like WordStar and dBase However CP M s concept of separate user areas for files on the same disk was never ported to MS DOS Since MS DOS had access to more memory as few IBM PCs were sold with less than KB of memory while CP M could run in KB if necessary more commands were built into the command line shell making MS DOS somewhat faster and easier to use on floppy based computers br Although one of the first peripherals for the IBM PC was a SoftCard like expansion card that let it run bit CP M software InfoWorld stated in that efforts to introduce CP M to the home market had been largely unsuccessful and most CP M software was too expensive for home users In the magazine stated that Kaypro had stopped production of bit CP M based models to concentrate on sales of MS DOS compatible systems long after most other vendors had ceased production of new equipment and software for CP M CP M rapidly lost market share as the microcomputing market moved to the IBM compatible platform and it never regained its former popularity Byte magazine at the time one of the leading industry magazines for microcomputers essentially ceased covering CP M products within a few years of the introduction of the IBM PC For example in there were still a few advertisements for S boards and articles on CP M software but by these were no longer found in the magazine br Later versions of CP M made significant strides in performance and usability and were made compatible with MS DOS To reflect this compatibility the name was changed and CP M became DOS Plus which in turn became DR DOS br br br ZCPR br ZCPR the Z Command Processor Replacement was introduced on February as a drop in replacement for the standard Digital Research console command processor CCP and was initially written by a group of computer hobbyists who called themselves The CCP Group They were Frank Wancho Keith Petersen the archivist behind Simtel at the time Ron Fowler Charlie Strom Bob Mathias and Richard Conn Richard was in fact the driving force in this group all of whom maintained contact through email br ZCPR was released on a disk put out by SIG M Special Interest Group Microcomputers a part of the Amateur Computer Club of New Jersey br ZCPR was released on February It was released as a set of ten disks from SIG M ZCPR was upgraded to and also was released in code permitting the use of ZCPR on and systems br ZCPR was released on July as a set of nine disks from SIG M The code for ZCPR could also be compiled with reduced features for the and would run on systems that did not have the requisite Z microprocessor Features of ZCPR as of version included shells aliases I O redirection flow control named directories search paths custom menus passwords and online help In January Richard Conn stopped developing ZCPR and Echelon asked Jay Sage who already had a privately enhanced ZCPR to continue work on it Thus ZCPR was developed and released ZCPR no longer supported the series of microprocessors and added the most features of any upgrade in the ZCPR line ZCPR also included a full complement of utilities with considerably extended capabilities While enthusiastically supported by the CP M user base of the time ZCPR alone was insufficient to slow the demise of CP M br br br Hardware model br br A minimal bit CP M system would contain the following components br br A computer terminal using the ASCII character set br An Intel and later the or Zilog Z microprocessor br The NEC V and V processors support an emulation mode that can run bit CP M on a PC DOS MS DOS computer so equipped though any PC clone could run CP M br At least kilobytes of RAM beginning at address br A means to bootstrap the first sector of the diskette br At least one floppy disk drive br The only hardware system that CP M as sold by Digital Research would support was the Intel Development System Manufacturers of CP M compatible systems customized portions of the operating system for their own combination of installed memory disk drives and console devices CP M would also run on systems based on the Zilog Z processor since the Z was compatible with code While the Digital Research distributed core of CP M BDOS CCP core transient commands did not use any of the Z specific instructions many Z based systems used Z code in the system specific BIOS and many applications were dedicated to Z based CP M machines br Digital Research subsequently partnered with Zilog and American Microsystems to produce Personal CP M a ROM based version of the operating system aimed at lower cost systems that could potentially be equipped without disk drives First featured in the Sharp MZ a cassette based system with optional disk drives Personal CP M was described as having been rewritten to take advantage of the enhanced Z instruction set as opposed to preserving portability with the American Microsystems announced a Z compatible microprocessor the S featuring KB of in package ROM for the operating system and BIOS together with comprehensive logic for interfacing with kilobit dynamic RAM devices Unit pricing of the S was quoted as in unit quantities br On most machines the bootstrap was a minimal bootloader in ROM combined with some means of minimal bank switching or a means of injecting code on the bus since the needs to see boot code at Address for start up while CP M needs RAM there for others this bootstrap had to be entered into memory using front panel controls each time the system was started br CP M used the bit ASCII set The other characters made possible by the bit byte were not standardized For example one Kaypro used them for Greek characters and Osborne machines used the th bit set to indicate an underlined character WordStar used the th bit as an end of word marker International CP M systems most commonly used the ISO norm for localized character sets replacing certain ASCII characters with localized characters rather than adding them beyond the bit boundary br br br Components br In the bit versions while running the CP M operating system loaded into memory had three components br br Basic Input Output System BIOS br Basic Disk Operating System BDOS br Console Command Processor CCP br The BIOS and BDOS were memory resident while the CCP was memory resident unless overwritten by an application in which case it was automatically reloaded after the application finished running A number of transient commands for standard utilities were also provided The transient commands resided in files with the extension COM on disk br The BIOS directly controlled hardware components other than the CPU and main memory It contained functions such as character input and output and the reading and writing of disk sectors The BDOS implemented the CP M file system and some input output abstractions such as redirection on top of the BIOS The CCP took user commands and either executed them directly internal commands such as DIR to show a directory or ERA to delete a file or loaded and started an executable file of the given name transient commands such as PIP COM to copy files or STAT COM to show various file and system information Third party applications for CP M were also essentially transient commands br The BDOS CCP and standard transient commands were the same in all installations of a particular revision of CP M but the BIOS portion was always adapted to the particular hardware br Adding memory to a computer for example meant that the CP M system had to be reinstalled to allow transient programs to use the additional memory space A utility program MOVCPM was provided with system distribution that allowed relocating the object code to different memory areas The utility program adjusted the addresses in absolute jump and subroutine call instructions to new addresses required by the new location of the operating system in processor memory This newly patched version could then be saved on a new disk allowing application programs to access the additional memory made available by moving the system components Once installed the operating system BIOS BDOS and CCP was stored in reserved areas at the beginning of any disk which would be used to boot the system On start up the bootloader usually contained in a ROM firmware chip would load the operating system from the disk in drive A br By modern standards CP M was primitive owing to the extreme constraints on program size With version there was no provision for detecting a changed disk If a user changed disks without manually rereading the disk directory the system would write on the new disk using the old disk s directory information ruining the data stored on the disk From version or onwards changing a disk then trying to write to it before its directory was read would cause a fatal error to be signalled This avoided overwriting the disk but required a reboot and loss of the data that was to be stored on disk br The majority of the complexity in CP M was isolated in the BDOS and to a lesser extent the CCP and transient commands This meant that by porting the limited number of simple routines in the BIOS to a particular hardware platform the entire OS would work This significantly reduced the development time needed to support new machines and was one of the main reasons for CP M s widespread use Today this sort of abstraction is common to most OSs a hardware abstraction layer but at the time of CP M s birth OSs were typically intended to run on only one machine platform and multilayer designs were considered unnecessary br br br Console Command Processor br br The Console Command Processor or CCP accepted input from the keyboard and conveyed results to the terminal CP M itself would work with either a printing terminal or a video terminal All CP M commands had to be typed in on the command line The console would most often display the A prompt to indicate the current default disk drive When used with a video terminal this would usually be followed by a blinking cursor supplied by the terminal The CCP would await input from the user A CCP internal command of the form drive letter followed by a colon could be used to select the default drive For example typing B and pressing enter at the command prompt would change the default drive to B and the command prompt would then become B to indicate this change br CP M s command line interface was patterned after the operating systems from Digital Equipment such as RT for the PDP and OS for the PDP Commands took the form of a keyword followed by a list of parameters separated by spaces or special characters Similar to a Unix shell builtin if an internal command was recognized it was carried out by the CCP itself Otherwise it would attempt to find an executable file on the currently logged disk drive and in later versions user area load it and pass it any additional parameters from the command line These were referred to as transient programs On completion CP M would reload the part of the CCP that had been overwritten by application programs this allowed transient programs a larger memory space br The commands themselves could sometimes be obscure For instance the command to duplicate files was named PIP Peripheral Interchange Program the name of the old DEC utility used for that purpose The format of parameters given to a program was not standardized so that there was no single option character that differentiated options from file names Different programs could and did use different characters br The CP M Console Command Processor includes DIR ERA REN SAVE TYPE and USER as built in commands Transient commands in CP M include ASM DDT DUMP ED LOAD MOVCPM PIP STAT SUBMIT and SYSGEN br CP M Plus CP M Version includes DIR display list of files from a directory except those marked with the SYS attribute DIRSYS DIRS list files marked with the SYS attribute in the directory ERASE ERA delete a file RENAME REN rename a file TYPE TYP display contents of an ASCII character file and USER USE change user number as built in commands CP M allows the user to abbreviate the built in commands Transient commands in CP M include COPYSYS DATE DEVICE DUMP ED GET HELP HEXCOM INITDIR LINK MAC PIP PUT RMAC SET SETDEF SHOW SID SUBMIT and XREF br br br Basic Disk Operating System br The Basic Disk Operating System or BDOS provided access to such operations as opening a file output to the console or printing Application programs would load processor registers with a function code for the operation and addresses for parameters or memory buffers and call a fixed address in memory Since the address was the same independent of the amount of memory in the system application programs would run the same way for any type or configuration of hardware br br br Basic Input Output System br br The Basic Input Output System or BIOS provided the lowest level functions required by the operating system br These included reading or writing single characters to the system console and reading or writing a sector of data from the disk The BDOS handled some of the buffering of data from the diskette but before CP M it assumed a disk sector size fixed at bytes as used on single density inch floppy disks Since most inch disk formats used larger sectors the blocking and deblocking and the management of a disk buffer area was handled by model specific code in the BIOS br Customization was required because hardware choices were not constrained by compatibility with any one popular standard For example some manufacturers used a separate computer terminal while others designed a built in integrated video display system Serial ports for printers and modems could use different types of UART chips and port addresses were not fixed Some machines used memory mapped I O instead of the I O address space All of these variations in the hardware were concealed from other modules of the system by use of the BIOS which used standard entry points for the services required to run CP M such as character I O or accessing a disk block Since support for serial communication to a modem was very rudimentary in the BIOS or may have been absent altogether it was common practice for CP M programs that used modems to have a user installed overlay containing all the code required to access a particular machine s serial port br br br Applications br br WordStar one of the first widely used word processors and dBase an early and popular database program for microcomputers were originally written for CP M Two early outliners KAMAS Knowledge and Mind Amplification System and its cut down successor Out Think without programming facilities and retooled for V compatibility were also written for CP M though later rewritten for MS DOS Turbo Pascal the ancestor of Borland Delphi and Multiplan the ancestor of Microsoft Excel also debuted on CP M before MS DOS versions became available VisiCalc the first ever spreadsheet program was made available for CP M Another company Sorcim created its SuperCalc spreadsheet for CP M which would go on to become the market leader and de facto standard on CP M Supercalc would go on to be a competitor in the spreadsheet market in the MS DOS world AutoCAD a CAD application from Autodesk debuted on CP M A host of compilers and interpreters for popular programming languages of the time such as BASIC Borland s Turbo Pascal FORTRAN and even PL I were available among them several of the earliest Microsoft products br CP M software often came with installers that adapted it to a wide variety of computers The source code for BASIC programs was easily accessible and most forms of copy protection were ineffective on the operating system A Kaypro II owner for example would obtain software on Xerox format then copy it to and run it from Kaypro format disks br The lack of standardized graphics support limited video games but various character and text based games were ported such as Telengard Gorillas Hamurabi Lunar Lander along with early interactive fiction including the Zork series and Colossal Cave Adventure Text adventure specialist Infocom was one of the few publishers to consistently release their games in CP M format Lifeboat Associates started collecting and distributing user written free software One of the first was XMODEM which allowed reliable file transfers via modem and phone line Another program native to CP M was the outline processor KAMAS br br br Transient Program Area br The read write memory between address hexadecimal and the lowest address of the BDOS was the Transient Program Area TPA available for CP M application programs Although all Z and processors could address kilobytes of memory the amount available for application programs could vary depending on the design of the particular computer Some computers used large parts of the address space for such things as BIOS ROMs or video display memory As a result some systems had more TPA memory available than others Bank switching was a common technique that allowed systems to have a large TPA while switching out ROM or video memory space as needed CP M allowed parts of the BDOS to be in bank switched memory as well br br br Debugging application br CP M came with a Dynamic Debugging Tool nicknamed DDT after the insecticide i e a bug killer which allowed memory and program modules to be examined and manipulated and allowed a program to be executed one step at a time br br br Resident programs br CP M originally did not support the equivalent of terminate and stay resident TSR programs as under DOS Programmers could write software that could intercept certain operating system calls and extend or alter their functionality Using this capability programmers developed and sold auxiliary desk accessory programs such as SmartKey a keyboard utility to assign any string of bytes to any key br CP M however added support for dynamically loadable Resident System Extensions RSX A so called null command file could be used to allow CCP to load an RSX without a transient program Similar solutions like RSMs for Resident System Modules were also retrofitted to CP M systems by third parties br br br Software installation br Although CP M provided some hardware abstraction to standardize the interface to disk I O or console I O application programs still typically required installation to make use of all the features of such equipment as printers and terminals Often these were controlled by escape sequences which had to be altered for different devices For example the escape sequence to select bold face on a printer would have differed among manufacturers and sometimes among models within a manufacturer s range This procedure was not defined by the operating system a user would typically run an installation program that would either allow selection from a range of devices or else allow feature by feature editing of the escape sequences required to access a function This had to be repeated for each application program since there was no central operating system service provided for these devices br The initialization codes for each model of printer had to be written into the application To use a program such as Wordstar with more than one printer say a fast dot matrix printer or a slower but presentation quality daisy wheel printer a separate version of Wordstar had to be prepared and one had to load the Wordstar version that corresponded to the printer selected and exiting and reloading to change printers br br br Disk formats br IBM System and IBM s single density single sided format is CP M s standard inch floppy disk format No standard inch CP M disk format exists with Kaypro Morrow Designs Osborne and others each using their own InfoWorld estimated in September that about two dozen formats were popular enough that software creators had to consider them to reach the broadest possible market JRT Pascal for example provided versions on inch disk for North Star Osborne Apple Heath hard sector and soft sector and Superbrain and one inch version Ellis Computing also offered its software for both Heath formats and other inch formats including two different TRS CP M modifications br Certain disk formats were more popular than others Most software was available in the Xerox format and other computers such as the Kaypro II were compatible with it No single manufacturer however prevailed in the inch era of CP M use and disk formats were often not portable between hardware manufacturers A software manufacturer had to prepare a separate version of the program for each brand of hardware on which it was to run With some manufacturers Kaypro is an example there was not even standardization across the company s different models Because of this situation disk format translation programs which allowed a machine to read many different formats became popular and reduced the confusion as did programs like Kermit which allowed transfer of data and programs from one machine to another using the serial ports that most CP M machines had br Various formats were used depending on the characteristics of particular systems and to some degree the choices of the designers CP M supported options to control the size of reserved and directory areas on the disk and the mapping between logical disk sectors as seen by CP M programs and physical sectors as allocated on the disk There were many ways to customize these parameters for every system but once they had been set no standardized way existed for a system to load parameters from a disk formatted on another system br The degree of portability between different CP M machines depended on the type of disk drive and controller used since many different floppy types existed in the CP M era in both inch and inch format Disks could be hard or soft sectored single or double density single or double sided track track track or track and the sector layout size and interleave could vary widely as well Although translation programs could allow the user to read disk types from different machines the drive type and controller were also factors By soft sector single sided track inch disks had become the most popular format to distribute CP M software on as they were used by the most common consumer level machines of that time such as the Apple II TRS Osborne Kaypro II and IBM PC A translation program allowed the user to read any disks on his machine that had a similar format for example the Kaypro II could read TRS Osborne IBM PC and Epson disks Other disk types such as track or hard sectored were completely impossible to read The first half of double sided disks like those of the Epson QX could be read because CP M accessed disk tracks sequentially with track being the first outermost track of side and track on a track disk being the last innermost track of side Apple II users were unable to use anything but Apple s GCR format and so had to obtain CP M software on Apple format disks or else transfer it via serial link br The fragmented CP M market requiring distributors either to stock multiple formats of disks or to invest in multiformat duplication equipment compared with the more standardized IBM PC disk formats was a contributing factor to the rapid obsolescence of CP M after br One of the last notable CP M capable machines to appear was the Commodore in which had a Z for CP M support in addition to its native mode using a derivative CPU Using CP M required either a or disk drive which could read soft sector track MFM format disks br The first computer to use a inch floppy drive the Sony SMC ran CP M The Commodore Bondwell laptop Micromint Ciarcia SB MSX and TRS Model running Montezuma CP M also supported the use of CP M with inch floppy disks CP AM Applied Engineering s version of CP M for the Apple II also supported inch disks as well as RAM disks on RAM cards compatible with the Apple II Memory Expansion Card The Amstrad PCW ran CP M using inch floppy drives at first and later switched to the inch drives br br br File system br File names were specified as a string of up to eight characters followed by a period followed by a file name extension of up to three characters filename format The extension usually identified the type of the file For example COM indicated an executable program file and TXT indicated a file containing ASCII text Characters in filenames entered at the command prompt were converted to upper case but this was not enforced by the operating system Programs MBASIC is a notable example were able to create filenames containing lower case letters which then could not easily be referenced at the command line br Each disk drive was identified by a drive letter for example drive A and drive B To refer to a file on a specific drive the drive letter was prefixed to the file name separated by a colon e g A FILE TXT With no drive letter prefixed access was to files on the current default drive br File size was specified as the number of byte records directly corresponding to disk sectors on inch drives occupied by a file on the disk There was no generally supported way of specifying byte exact file sizes The current size of a file was maintained in the file s File Control Block FCB by the operating system Since many application programs such as text editors prefer to deal with files as sequences of characters rather than as sequences of records by convention text files were terminated with a control Z character ASCII SUB hexadecimal A Determining the end of a text file therefore involved examining the last record of the file to locate the terminating control Z This also meant that inserting a control Z character into the middle of a file usually had the effect of truncating the text contents of the file br With the advent of larger removable and fixed disk drives disk de blocking formulas were employed which resulted in more disk blocks per logical file allocation block While this allowed for larger file sizes it also meant that the smallest file which could be allocated increased in size from KB on single density drives to KB on double density drives and so on up to KB for a file containing only a single byte This made for inefficient use of disk space if the disk contained a large number of small files br File modification time stamps were not supported in releases up to CP M but were an optional feature in MP M and CP M br CP M had no subdirectories in the file structure but provided numbered user areas to organize files on a disk To change user one had to simply type User X at the command prompt X being the user number Security was non existent and considered unnecessary on a personal computer The user area concept was to make the single user version of CP M somewhat compatible with multi user MP M systems A common patch for the CP M and derivative operating systems was to make one user area accessible to the user independent of the currently set user area A USER command allowed the user area to be changed to any area from to User was the default If one changed to another user such as USER the material saved on the disk for this user would only be available to USER USER would not be able to see it or access it However files stored in the USER area were accessible to all other users their location was specified with a prefatory path since the files of USER were only visible to someone logged in as USER The user area feature arguably had little utility on small floppy disks but it was useful for organizing files on machines with hard drives The intent of the feature was to ease use of the same computer for different tasks For example a secretary could do data entry then after switching USER areas another employee could use the machine to do billing without their files intermixing br br br Graphics br br Although graphics capable S systems existed from the commercialization of the S bus CP M did not provide any standardized graphics support until with GSX Graphics System Extension Owing to the small amount of available memory graphics was never a common feature associated with bit CP M operating systems Most systems could only display rudimentary ASCII art charts and diagrams in text mode or by using a custom character set Some computers in the Kaypro line and the TRS Model had video hardware supporting block graphics characters and these were accessible to assembler programmers and BASIC programmers using the CHR command The Model could display by pixel graphics with an optional high resolution board br br br Derivatives br br br Official br Some companies made official enhancements of CP M based on Digital Research source code br An example is IMDOS for the IMSAI computer made by IMS Associates Inc a clone of the famous Altair br br br Compatible br Other CP M compatible OSes were developed independently and made no use of Digital Research code Some contemporary examples were br br Cromemco CDOS from Cromemco br MSX DOS for the MSX range of computers is CP M compatible and can run CP M programs br The Epson QX shipped with a choice of CP M or the compatible TPM II or TPM III br The British ZX Spectrum compatible SAM Coup had an optional CP M compatible OS called Pro DOS br The Amstrad Schneider CPC series xx disk based and PCW series computers were bundled with an CP M disk pack br The Husky computer ran a ROM based menu driven program loader called DEMOS which could run many CP M applications br ZSDOS is a replacement BDOS for CP M written by Harold F Bower and Cameron W Cotrill br CPMish is a new FOSS CP M compatible operating system which originally contained no DR code It includes ZSDOS as its BDOS and ZCPR see earlier as the command processor Since Bryan Sparks the president of DR owners Lineo granted permission in to modify and redistribute CP M code developer David Given is updating CPMish with some parts of the original DR CP M br LokiOS is a CP M compatible OS Version was publicly released in by David Kitson as a solo written Operating System exercise intended for the Open Spectrum Project and includes source code for the BIOS BDOS and Command line interface as well as other supporting applications and drivers The distribution also includes original DR Source code and a utility to allow users to hot swap OS components e g BDOS CCP on the fly br br br Enhancements br Some CP M compatible operating systems extended the basic functionality so far that they far exceeded the original for example the multi processor capable TurboDOS br br br Eastern bloc br A number of CP M derivatives existed in the former Eastern Bloc under various names including SCP Single User Control Program SCP M CP A CP J CP KC CP KSOB CP L CP Z MICRODOS BCU ZOAZ OS M TOS M ZSDOS M OS COS PSA DOS PSA CSOC CSOS CZ CPM DAC HC and others There were also CP M derivatives named SCP CP K and K OS They were produced by the East German VEB Robotron and others br br br Legacy br A number of behaviors exhibited by Microsoft Windows are a result of backward compatibility with MS DOS which in turn attempted some backward compatibility with CP M The drive letter and filename conventions in MS DOS and early Windows versions were originally adopted from CP M The wildcard matching characters used by Windows and are based on those of CP M as are the reserved filenames used to redirect output to a printer PRN and the console CON The drive names A and B were used to designate the two floppy disk drives that CP M systems typically used when hard drives appeared they were designated C which survived into MS DOS as the C command prompt The control character Z marking the end of some text files can also be attributed to CP M Various commands in DOS were modelled after CP M commands some of them even carried the same name like DIR REN RENAME or TYPE and ERA ERASE in DR DOS File extensions like TXT or COM are still used to identify file types on many operating systems br In and Caldera released some CP M binaries and source code under an open source license also allowing the redistribution and modification of further collected Digital Research files related to the CP M and MP M families through Tim Olmstead s The Unofficial CP M Web site since After Olmstead s death on September the distribution license was refreshed and expanded by Lineo who had meanwhile become the owner of those Digital Research assets on October br In October to mark the th anniversary of the first presentation of CP M the Computer History Museum released early source code versions of CP M br As of there are a number of active vintage hobby and retro computer people and groups and some small commercial businesses still developing and supporting computer platforms that use CP M mostly as the host operating system br br br See also br Amstrad CP M Plus character set br CPMulator br CP NET and CP NOS br Cromemco DOS an operating system independently derived from CP M br Eagle Computer br IMDOS br List of machines running CP M br MP M br MP NET and MP NOS br Multiuser DOS br Pascal MT br SpeedStart CP M br DOS br br br br br br Further reading br Zaks Rodnay The CP M Handbook With MP M SYBEX Inc ISBN br Conn Richard ZCPR The Manual New York Zoetrope ISBN br Z System Corner Tenth Anniversary of ZCPR The Computer Journal Archived from the original on br The origin of CP M s name Archived from the original on br Katie Mustafa A Intel iPDS Using CP M Video Archived from the original on Retrieved br IEEE Milestone in Electrical Engineering and Computing CP M Microcomputer Operating System PDF Computer History Museum Archived PDF from the original on Retrieved br Triumph of the Nerds PBS NB This PBS series includes the details of IBM s choice of Microsoft DOS over Digital Research s CP M for the IBM PC br CP M FAQ comp os cpm br br br External links br br The Unofficial CP M Web site founded by Tim Olmstead Includes source code br Gaby Chaudry s Homepage for CP M and Computer History includes ZCPR materials br CP M Main Page John C Elliott s technical information site br MaxFrame s Digital Research CP M page br CP M at Curlie