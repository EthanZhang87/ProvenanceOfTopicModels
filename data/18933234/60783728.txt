title: TENEX (operating system)
id: 60783728
TENEX is an operating system developed in by BBN for the PDP which later formed the basis for Digital Equipment Corporation s TOPS operating system br br br Background br In the s BBN was involved in a number of LISP based artificial intelligence projects for DARPA many of which had very large for the era memory requirements One solution to this problem was to add paging software to the LISP language allowing it to write out unused portions of memory to disk for later recall if needed One such system had been developed for the PDP at MIT by Daniel Murphy before he joined BBN Early DEC machines were based on an bit word allowing addresses to encode for a kiloword memory The machines were based on expensive core memory and included nowhere near the required amount The pager used the most significant bits of the address to index a table of blocks on a magnetic drum that acted as the pager s backing store The software would fetch the pages if needed and then resolve the address to the proper area of RAM br In DEC announced the PDP DEC was still heavily involved with MIT s AI Lab and many feature requests from the LISP hackers were moved into this machine bit computing was especially useful for LISP programming because with an bit address space a word of storage on these systems contained two addresses a perfect match for the common LISP CAR and CDR operations BBN became interested in buying one for their AI work when they became available but wanted DEC to add a hardware version of Murphy s pager directly into the system With such an addition every program on the system would have paging support invisibly making programming much easier DEC was initially interested however in they announced they would be discontinuing the PDP and concentrating solely on their smaller bit and new bit lines The PDP was expensive and complex and therefore had not sold well br It was not long until it became clear that DEC was once again entering the bit business with what would become the PDP BBN started talks with DEC to get a paging subsystem in the new machine then known by its CPU name the KA DEC was not interested however one development of these talks was support in the PDP for a second virtual memory segment allowing half of the user address space to be mapped to a separate potentially read only region of physical memory Additionally DEC insisted on keeping the cost of the machine as low as possible such as supporting systems with a minimum of K words of core and omitting the fast semiconductor register option substituting core at the cost of a considerable performance decrease br br br BBN and PDP s br br BBN nevertheless went ahead with its purchase of several PDP s and decided to build their own hardware pager During this period a debate began on what operating system to run on the new machines Strong arguments were made for the continued use of TOPS in order to keep their existing software running with minimum effort This would require a re write of TOPS to support the paging system and this seemed like a major problem At the same time TOPS did not support a number of features the developers wanted In the end they decided to make a new system but include an emulation library that would allow it to run existing TOPS software with minor effort br The developer team amongst them Daniel Murphy and Daniel G Bobrow chose the name TENEX TEN EXtended for the new system It included a full virtual memory system that is not only could programs access a full bit address space of words of virtual memory every program could do so at the same time The pager system would handle mapping as it would always copying data to and from the backing store as needed The only change needed was for the pager to be able to hold several sets of mappings between RAM and store one for each program using the system The pager also held access time information in order to tune performance The resulting pager was fairly complex filling a full height rackmount chassis br One notable feature of TENEX was its user oriented command line interpreter Unlike typical systems of the era TENEX deliberately used long command names and even included non significant noise words to further expand the commands for clarity For instance Unix uses ls to print a list of files in a directory whereas TENEX used DIRECTORY OF FILES DIRECTORY was the command word OF FILES was noise added to make the purpose of the command clearer To relieve users of the need to type these long commands TENEX used a command completion system that understood unambiguously abbreviated command words and expanded partial command words into complete words or phrases For instance the user could type DIR and the escape key at which point TENEX would replace DIR with the full command The completion feature also worked with file names which took some effort on the part of the interpreter and the system allowed for long file names with human readable descriptions TENEX also included a command recognition help system typing a question mark printed out a list of possible matching commands and then return the user to the command line with the question mark removed The command line completion and help live on in current CLIs like tcsh br br br From TENEX to TOPS br TENEX became fairly popular in the small PDP market and the external pager hardware developed into a small business of its own In early DEC started work on an upgrade to the PDP processor the KI BBN once again attempted to get DEC to support a complex pager with indirect page tables but instead DEC decided on a much simpler single level page mapping system This compromise impacted system sales by this point TENEX was the most popular customer written PDP operating systems but it would not run on the new faster KI s br To correct this problem the DEC PDP sales manager purchased the rights to TENEX from BBN and set up a project to port it to the new machine At around this time Murphy moved from BBN to DEC as well helping on the porting project Most of the work centered on emulating the BBN pager hardware in a combination of software and the KI s simpler hardware The speed of the KI compared to the PDP made this possible Additionally the porting effort required a number of new device drivers to support the newer backing store devices being used br Just as the new TENEX was shipping DEC started work on the KL intended to be a low cost version of the KI While this was going on Stanford University AI programmers many of them MIT alumni were working on their own project to build a PDP that was ten times faster than the original KA The project evolved into the Foonly line of computers DEC visited them and many of their ideas were then folded into the KL project The same year IBM also announced their own machine with virtual memory making it a standard requirement for any computer In the end the KL integrated a number of major changes to the system but did not end up being any lower in cost From the start the new DECSYSTEM would run a version of TENEX as its default operating system br Functional upgrades for the KL processor architecture were limited The most significant new feature called extended addressing was modified pager microcode running on a Model B hardware revision to enlarge the user virtual address space Some effective address calculations by instructions located beyond the original bit address space were performed to significant bits although only a bit virtual address space was supported Program code located in the original bit address space had unchanged semantics for backward compatibility br The first in house code name for the operating system was VIROS VIRtual memory Operating System when customers started asking questions the name was changed to SNARK so that DEC could truthfully deny that there was any project called VIROS When the name SNARK became known the name was briefly reversed to become KRANS this was quickly abandoned when someone objected that krans meant funeral wreath in Swedish though it simply means wreath this part of the story may be apocryphal br Ultimately DEC picked TOPS as the name of the operating system and it was as TOPS that it was marketed The hacker community mindful of its origins quickly dubbed it TWENEX a portmanteau of twenty TENEX even though by this point very little of the original TENEX code remained analogously to the differences between AT T V Unix and BSD DEC people cringed when they heard TWENEX but the term caught on nevertheless the written abbreviation x was also used br TWENEX was successful and very popular in fact there was a period in the early s when it commanded as fervent a culture of partisans as Unix or ITS but DEC s decision to scrap all the internal rivals to the VAX architecture and its VMS operating system killed the DEC and put an end to TWENEX s brief period of popularity DEC attempted to convince TOPS users to convert to VMS but instead by the late s most of the TOPS users had migrated to Unix A loyal group of TOPS enthusiasts kept working on various projects to preserve and extend TOPS notably Mark Crispin and the Panda TOPS distribution br br br See also br Time sharing system evolution br br br br Some text in this article was taken from The Jargon File entry on TWENEX which is in the public domain br br br Further reading br Daniel G Bobrow Jerry D Burchfiel Daniel L Murphy Raymond S Tomlinson TENEX A Paged Time Sharing System for the PDP Communications of the ACM Vol pages March 